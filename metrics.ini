
[LoadingScreen]
ScreenOutDelay=0.0


# 01 #
[Global]
FallbackTheme=_fallback

[Common]
FirstAttractScreen=""
InitialScreen="ScreenInit"
#AutoSetStyle=tobool(GetUserPref_Theme("AutoSetStyle"))
AutoSetStyle=false

# 02 #
[LightsManager]

[ProfileManager]

[SongManager]
SongGroupColor1=BoostColor(Color("White"),1.25)
SongGroupColor2=BoostColor(Color("White"),1.25)
SongGroupColor3=BoostColor(Color("White"),1.25)
SongGroupColor4=BoostColor(Color("White"),1.25)
SongGroupColor5=BoostColor(Color("White"),1.25)
SongGroupColor6=BoostColor(Color("White"),1.25)
SongGroupColor7=BoostColor(Color("White"),1.25)
SongGroupColor8=BoostColor(Color("White"),1.25)
SongGroupColor9=BoostColor(Color("White"),1.25)
SongGroupColor10=BoostColor(Color("White"),1.25)
SongGroupColor11=BoostColor(Color("White"),1.25)
SongGroupColor12=BoostColor(Color("White"),1.25)
SongGroupColor13=BoostColor(Color("White"),1.25)
SongGroupColor14=BoostColor(Color("White"),1.25)
SongGroupColor15=BoostColor(Color("White"),1.25)
SongGroupColor16=BoostColor(Color("White"),1.25)
SongGroupColor17=BoostColor(Color("White"),1.25)
SongGroupColor18=BoostColor(Color("White"),1.25)
SongGroupColor19=BoostColor(Color("White"),1.25)
SongGroupColor20=BoostColor(Color("White"),1.25)

CourseGroupColor1=color("1,1,1,1")

[UnlockManager]

# 03 #
[ArrowEffects]

[Background]
ShowDancingCharacters=GetUserPref_Theme("UserStage")=='Off'

[Banner]


[BeginnerHelper]
HelperX=0
HelperY=(GetUserPref_Theme("UserStage")=='Off') and SCREEN_CENTER_Y-140 or SCREEN_HEIGHT+9999

[BitmapText]
NumRainbowColors=1
RainbowColor1=Color("White");

[BPMDisplay]
SetNoBpmCommand=stoptweening;stopeffect;maxwidth,128;diffuse,Color("White");
SetNormalCommand=stoptweening;stopeffect;maxwidth,128;diffuse,Color("White");
SetChangeCommand=stoptweening;stopeffect;maxwidth,128;diffuse,Color("White");
SetRandomCommand=stoptweening;stopeffect;maxwidth,128;diffuse,Color("White");
SetExtraCommand=stoptweening;stopeffect;maxwidth,128;diffuse,Color("White");
RandomCycleSpeed=0.2		--  smaller numbers mean the bpm cycles faster

[CodeDetector]
# For Future Reference:
# @ = Holding
# - = In Conjuction With / Then
# ~ = Released
# + = At The Same Time
CloseCurrentFolder="UP-DOWN"

[CodeDetectorOnline]

[CombinedLifeMeterTug]
# We don't use it.
MeterWidth=512-8
MeterHeight=40

[Combo]
ShowComboAt=2

LabelMaxZoom=1.2
NumberMaxZoom=1.5
NumberMaxZoomAt=300

PulseCommand=%function(self,param) self:stoptweening(); self:diffusealpha(1); self:zoom(1.125*param.Zoom); self:linear(0.05); self:zoom(param.Zoom); end;
PulseLabelCommand=%function(self,param) self:stoptweening(); self:diffusealpha(1); self:zoom(1.075*param.LabelZoom); self:linear(0.05); self:zoom(param.LabelZoom); end;
NumberOnCommand=y,240-216-1.5;shadowlength,1;horizalign,right;vertalign,bottom;
LabelOnCommand=x,6;y,20;shadowlength,1;zoom,0.75;diffusebottomedge,color("0.75,0.75,0.75,1");horizalign,left;vertalign,bottom

[HaishinCombo]
PulseCommand=%function(self,param) self:stoptweening(); self:diffusealpha(1); self:zoom(param.Zoom); end;
PulseLabelCommand=%function(self,param) self:stoptweening(); self:diffusealpha(1); self:zoom(param.LabelZoom); end;

[HoldJudgment]
HoldJudgmentHeldCommand=finishtweening;y,0;shadowlength,0;diffusealpha,0.5;zoomx,2.0;zoomy,0;linear,0.05;diffusealpha,1;zoomx,1;zoomy,1;sleep,0.8;linear,0.1;zoomy,0.5;zoomx,2;diffusealpha,0;
HoldJudgmentLetGoCommand=finishtweening;visible,true;shadowlength,0;diffusealpha,1;zoom,1;y,-10;linear,0.8;y,10;sleep,0.5;linear,0.1;zoomy,0.5;zoomx,2;diffusealpha,0;

[HelpDisplay]
TipShowTime=7

[Judgment_waiei1]
Fallback="Judgment"
JudgmentW1Command=finishtweening;y,0;shadowlength,0;diffusealpha,0.5;zoomx,2.0;zoomy,0;linear,0.05;diffusealpha,1;zoomx,1;zoomy,1;sleep,0.8;linear,0.1;zoomy,0.5;zoomx,2;diffusealpha,0;glowblink;effectperiod,0.1;effectcolor1,1,1,1,0;effectcolor2,1,1,1,0.3
JudgmentW2Command=finishtweening;y,0;shadowlength,0;diffusealpha,0.5;zoomx,1.5;zoomy,0;linear,0.05;diffusealpha,1;zoomx,1;zoomy,1;sleep,0.8;linear,0.1;zoomy,0.5;zoomx,2;diffusealpha,0;
JudgmentW3Command=finishtweening;y,0;shadowlength,0;diffusealpha,0.5;zoomx,1.5;zoomy,0;linear,0.05;diffusealpha,1;zoomx,1;zoomy,1;sleep,0.8;linear,0.1;zoomy,0.5;zoomx,2;diffusealpha,0;
JudgmentW4Command=finishtweening;y,0;shadowlength,0;diffusealpha,1.0;zoomx,1.1;zoomy,1;linear,0.05;diffusealpha,1;zoomx,1;zoomy,1;sleep,0.8;linear,0.1;zoomy,0.5;zoomx,2;diffusealpha,0;
JudgmentW5Command=finishtweening;y,0;shadowlength,0;diffusealpha,1;zoom,1.0;vibrate;effectmagnitude,1,2,2;sleep,0.5;linear,0.1;zoomy,0.5;zoomx,2;diffusealpha,0
JudgmentMissCommand=finishtweening;y,0;shadowlength,0;diffusealpha,1;zoom,1;y,-20;linear,0.8;y,20;sleep,0.5;linear,0.1;zoomy,0.5;zoomx,2;diffusealpha,0
# Late/Early 
OffsetOnCommand=
OffsetLateCommand=
OffsetEarlyCommand=

[HaishinJudgment_waiei1]
Fallback="Judgment_waiei1"
JudgmentW1Command=finishtweening;y,0;shadowlength,0;diffusealpha,0.5;linear,0.05;diffusealpha,1;sleep,0.8;linear,0.1;diffusealpha,0;glowblink;effectperiod,0.25;effectcolor1,1,1,1,0;effectcolor2,1,1,1,0.3
JudgmentW2Command=finishtweening;y,0;shadowlength,0;diffusealpha,0.5;linear,0.05;diffusealpha,1;sleep,0.8;linear,0.1;diffusealpha,0;
JudgmentW3Command=finishtweening;y,0;shadowlength,0;diffusealpha,0.5;linear,0.05;diffusealpha,1;sleep,0.8;linear,0.1;diffusealpha,0;
JudgmentW4Command=finishtweening;y,0;shadowlength,0;diffusealpha,1.0;linear,0.05;diffusealpha,1;sleep,0.8;linear,0.1;diffusealpha,0;
JudgmentW5Command=finishtweening;y,0;shadowlength,0;diffusealpha,1;zoom,1.0;sleep,0.5;linear,0.1;diffusealpha,0
JudgmentMissCommand=finishtweening;y,0;shadowlength,0;diffusealpha,1;sleep,0.5;linear,0.1;diffusealpha,0

[Judgment_waiei2]
Fallback="Judgment_waiei1"
JudgmentW1Command=finishtweening;y,0;shadowlength,0;diffusealpha,1;zoomx,2.0;zoomy,0;linear,0.05;zoomx,1;zoomy,1;sleep,0.8;linear,0.1;zoomy,0.5;zoomx,2;diffusealpha,0;glowblink;effectperiod,0.1;effectcolor1,1,1,1,0;effectcolor2,1,1,1,0.3
JudgmentW2Command=finishtweening;y,0;shadowlength,0;diffusealpha,1;zoomx,1.5;zoomy,0;linear,0.05;zoomx,1;zoomy,1;sleep,0.8;linear,0.1;zoomy,0.5;zoomx,2;diffusealpha,0;
JudgmentW3Command=finishtweening;y,0;shadowlength,0;diffusealpha,1;zoomx,1.5;zoomy,0;linear,0.05;zoomx,1;zoomy,1;sleep,0.8;linear,0.1;zoomy,0.5;zoomx,2;diffusealpha,0;

[HaishinJudgment_waiei2]
Fallback="HaishinJudgment_waiei1"
JudgmentW1Command=finishtweening;y,0;shadowlength,0;diffusealpha,1;sleep,0.85;linear,0.1;diffusealpha,0;glowblink;effectperiod,0.25;effectcolor1,1,1,1,0;effectcolor2,1,1,1,0.3
JudgmentW2Command=finishtweening;y,0;shadowlength,0;diffusealpha,1;sleep,0.85;linear,0.1;diffusealpha,0;
JudgmentW3Command=finishtweening;y,0;shadowlength,0;diffusealpha,1;sleep,0.85;linear,0.1;diffusealpha,0;

[Protiming]
ProtimingOnCommand=shadowlength,1;horizalign,right;x,30;strokecolor,Color("Outline");skewx,-0.125;textglowmode,"TextGlowMode_Inner";
AverageOnCommand=shadowlength,1;horizalign,left;x,32;y,8;zoom,0.75;diffuse,ColorLightTone( Color("Green") );strokecolor,Color("Outline");skewx,-0.125;textglowmode,"TextGlowMode_Inner";
TextOnCommand=shadowlength,1;horizalign,left;x,32;y,-6;zoom,0.5;strokecolor,Color("Outline");skewx,-0.125;textglowmode,"TextGlowMode_Inner";
#
ProtimingW1Command=finishtweening;diffuse,Color("White");zoom,1.15;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W1"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW2Command=finishtweening;diffuse,Color("White");zoom,1.15;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W2"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW3Command=finishtweening;diffuse,Color("White");zoom,1.15;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W3"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW4Command=finishtweening;diffuse,Color("White");zoom,1.15;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W4"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingW5Command=finishtweening;diffuse,Color("White");zoom,1.15;glow,Color("White");linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_W5"];sleep,2;linear,0.5;diffuse,Color("Invisible");
ProtimingMissCommand=finishtweening;diffusealpha,1;zoom,1.15;glow,GameColor.Judgment["JudgmentLine_Miss"];linear,0.05;zoom,1;glow,Color("Invisible");diffuse,GameColor.Judgment["JudgmentLine_Miss"];sleep,2;linear,0.5;diffuse,Color("Invisible");
#
AveragePulseCommand=finishtweening;diffusealpha,1;zoom,0.75*1.025;decelerate,0.05;zoom,0.75;sleep,2;linear,0.5;diffusealpha,0;
TextPulseCommand=finishtweening;diffusealpha,1;zoom,0.5*1.025;decelerate,0.05;zoom,0.5;sleep,2;linear,0.5;diffusealpha,0;

[Course]

[CustomDifficulty]

[DifficultyList]
ItemsSpacingY=24
NumShownItems=8

[FadingBanner]
BannerFadeFromCachedCommand=diffusealpha,1;stoptweening;accelerate,0.05;glow,Color.Alpha( Color("White"), 0.45 );decelerate,0.175;diffusealpha,0;glow,Color("Invisible");

[Gameplay]
ComboIsPerRow=(GetUserPref_Theme("UserJumpCombo")=="1")
MineHitIncrementsMissCombo=function(self) \
	if GetUserPref_Theme("UserMineHitMiss")=="true" or GetUserPref_Theme("UserMineHitMiss")=="On" then \
		return true; \
	else \
		return false; \
	end; \
end;
MinScoreToContinueCombo=ComboContinue()
MinScoreToMaintainCombo=ComboMaintain()
AvoidMineIncrementsCombo=false
UseInternalScoring=GetUserPref_Theme("UserCustomScore")=="Off" or GetUserPref_Theme("UserCustomScore")=="DancePoints" or GAMESTATE:IsCourseMode()

[GameState]
DefaultSort="Preferred"
AllowLateJoin=false
LockExtraStageSelection=false

[GrooveRadar]

[GroupList]

[HighScore]

[Inventory]

[LifeMeterBar]
OverOnCommand=diffuse,Color("Orange");diffuserightedge,BoostColor(Color("Orange"),1.5)
ExtraStageLifeDifficulty=1.0
ForceLifeDifficultyOnExtraStage=true

InitialValue=LifeMeterInit()

DangerThreshold=LifeMeterDanger()
LifePercentChangeW1=LifeMeterW1()
LifePercentChangeW2=LifeMeterW2()
LifePercentChangeW3=LifeMeterW3()
LifePercentChangeW4=LifeMeterW4()
LifePercentChangeW5=LifeMeterW5()
LifePercentChangeMiss=LifeMeterMiss()
LifePercentChangeHitMine=LifeMeterHitMine()
LifePercentChangeHeld=LifeMeterHeld()
LifePercentChangeLetGo=LifeMeterLetGo()
LifePercentChangeCheckpointMiss=LifeMeterCheckpointMiss()
LifePercentChangeCheckpointHit=LifeMeterCheckpointHit()

[LifeMeterBattery]
BatteryBlinkTime=0.5
#
BatteryP1X=0
BatteryP1Y=0
BatteryP2X=0
BatteryP2Y=0
#
NumLivesP2OnCommand=zoomx,-1
MinScoreToKeepLife=LifeBatteryKeepLife()

[LifeMeterBattery Percent]
# still asking for this even though it's in fallback... -aj
Format=
RemainderFormat=
#
PercentP2OnCommand=zoom,0.7;zoomx,-0.7;shadowlength,0;diffuse,PlayerColor(PLAYER_2)
DancePointsP2OnCommand=zoom,0.7;zoomx,-0.7;shadowlength,0;diffuse,PlayerColor(PLAYER_2)


[LifeMeterTime]
# The Lifemeter that shows up when you're playing survival.

# When it starts telling you to stop sucking.
DangerThreshold=0.11
# How good it's filled up when you start
InitialValue=0.5
# How little there is to fill?
MinLifeTime=20

[LyricDisplay]

[NotesWriterSM]

[OptionRow]
TitleOnCommand=shadowlength,0;skewx,-0.1;uppercase,true;wrapwidthpixels,136;maxheight,42;zoom,0.6
TitleGainFocusCommand=stoptweening;zoom,0.6375*1.125;bounceend,0.2;diffuse,Color("Orange");diffusetopedge,BoostColor(Color("Orange"),1.5);strokecolor,Color("Black");zoom,0.6375;
# TitleGainFocusCommand=stoptweening;zoom,0.6375*1.25;bounceend,0.2;diffuse,Color("Orange");diffusetopedge,BoostColor(Color("Orange"),1.5);strokecolor,Color("Black");zoom,0.6375;thump;effectmagnitude,1,1.05,1;effectclock,'beat'
TitleLoseFocusCommand=diffuse,Color("White");strokecolor,Color("Black");stopeffect;

[OptionRowService]

[OptionRowExit]
FrameOnCommand=visible,true;diffuse,Color("Red");
FrameX=SCREEN_CENTER_X

ItemsMinBaseZoom=1
ItemOnCommand=shadowlength,1;zoom,0.8;diffuse,Color("Red");diffusebottomedge,BoostColor(Color("Red"),0.75);shadowcolor,BoostColor(Color("Red"),0.35)
ItemGainFocusCommand=stoptweening;linear,0.2;zoom,1;diffuse,Color("Red");diffusebottomedge,BoostColor(Color("Red"),0.75)
ItemLoseFocusCommand=stoptweening;decelerate,0.5;zoom,0.8;
ColorSelected=Color("Red")
ColorNotSelected=Color("Red")
ColorDisabled=Color("Red")

ItemsLongRowP1X=SCREEN_CENTER_X-1024
ItemsLongRowP2X=SCREEN_CENTER_X+1024
ItemsLongRowSharedX=SCREEN_CENTER_X

[OptionsCursor]

[OptionsCursorP1]
LeftOnCommand=horizalign,right;diffuse,PlayerColor(PLAYER_1)
MiddleOnCommand=;diffuse,PlayerColor(PLAYER_1)
RightOnCommand=horizalign,left;diffuse,PlayerColor(PLAYER_1)

[OptionsCursorP2]
LeftOnCommand=horizalign,right;diffuse,PlayerColor(PLAYER_2)
MiddleOnCommand=;diffuse,PlayerColor(PLAYER_2)
RightOnCommand=horizalign,left;diffuse,PlayerColor(PLAYER_2)

[OptionsUnderline]

[OptionsUnderlineP1]
LeftOnCommand=horizalign,right;diffuse,PlayerColor(PLAYER_1)
MiddleOnCommand=;diffuse,PlayerColor(PLAYER_1)
RightOnCommand=horizalign,left;diffuse,PlayerColor(PLAYER_1)

[OptionsUnderlineP2]
LeftOnCommand=horizalign,right;diffuse,PlayerColor(PLAYER_2)
MiddleOnCommand=;diffuse,PlayerColor(PLAYER_2)
RightOnCommand=horizalign,left;diffuse,PlayerColor(PLAYER_2)
[MenuTimer]
Text1OnCommand=stopeffect;stoptweening;shadowlength,0;strokecolor,Color("Outline")
Text1FormatFunction=function(fSeconds) \
	return string.format("%0.1f", fSeconds); \
end

Warning10Command=diffuseshift;effectperiod,1;effectcolor2,Color("Red");effectcolor1,color("0.5,0,0,1");

[MenuTimerNoSound]

[WheelNotifyIcon]

[NoteField]
ShowBoard=GAMESTATE:GetCurrentGame():GetName() == "kb7"

ShowBeatBars=false;

[PlayerStageStats]
GradePercentTier01=1.000000
GradePercentTier02=1.000000
GradePercentTier03=0.930000
GradePercentTier04=0.800000
GradePercentTier05=0.650000
GradePercentTier06=0.450000
GradePercentTier07=-99999.000000
GradeTier01IsAllW2s=false
GradeTier02IsAllW2s=true
GradeTier02IsFullCombo=false
NumGradeTiersUsed=7
# CSライバルデータ用
# AAA
GradePercentCSTier01=0.980000
# AA
GradePercentCSTier02=0.930000
# A+
GradePercentCSTier03=0.880000
# A-
GradePercentCSTier04=0.800000
# B
GradePercentCSTier05=0.700000
# C
GradePercentCSTier06=0.600000
# D
GradePercentCSTier07=-99999.000000

[Player]
ComboUnderField=GetUserPref_Theme("DF_ComboUnderField")=="true" or GetUserPref_Theme("DF_ComboUnderField")=="On";
#ScoreMissedHoldsAndRolls=not IsGame("pump") and (not (IsGame("dance") and GetUserPref_Theme("UserHoldJudgmentType")=="DDR"));
ScoreMissedHoldsAndRolls=function(self) \
	if (GetUserPref_Theme("UserHoldJudgmentType")~="DDR") then \
		return true; \
	else \
		return false \
	end; \
end;
#GetUserPref("UserHoldJudgmentType");
#[ja] trueの場合、片方短い同時に始まるFAで短いほうが終わって離すと長いほうがNGになるので使えない 
#[ja] B2で修正されたけど、内部的に1本扱いになるのでMFCをとっても達成率が100%いかないのでやっぱり駄目 
JudgeHoldNotesOnSameRowTogether=false;
RollBodyIncrementsCombo=(GetUserPref_Theme("UserRollCombo")~="Off")
#GetUserPref("UserPrefComboOnRolls");
PercentUntilColorCombo=0.000001
MModHighCap=1001
ReceptorArrowsYStandard=-144
ReceptorArrowsYReverse=134
HoldCheckpoints=(GetUserPref_Theme("UserHoldCheckPoints")~="Off")
CheckpointsUseTickcounts=(GetUserPref_Theme("UserHoldCheckPoints")~="Off")
CheckpointsUseTimeSignatures=(GetUserPref_Theme("UserHoldCheckPoints")~="Off")
CheckpointsTapsSeparateJudgment=(GetUserPref_Theme("UserHoldCheckPoints")=="Off")
CheckpointsFlashOnHold=(GetUserPref_Theme("UserHoldCheckPoints")~="Off")
ImmediateHoldLetGo=(GetUserPref_Theme("UserHoldCheckPoints")=="Off")
RequireStepOnHoldHeads=(GetUserPref_Theme("UserHoldCheckPoints")=="Off")
RequireStepOnMines=false
InitialHoldLife=(GetUserPref_Theme("UserHoldCheckPoints")~="Off") and 0.05 or 1
ComboBreakOnImmediateHoldLetGo=(GetUserPref_Theme("UserComboBreakOnNG")=="On")
DrawDistanceBeforeTargetsPixels=420*((GetwaieiPlayerOptions(PLAYER_1,"3.9 Mini") or GetwaieiPlayerOptions(PLAYER_2,"3.9 Mini")) and 2 or 1)
DrawDistanceAfterTargetsPixels=-128*((GetwaieiPlayerOptions(PLAYER_1,"3.9 Mini") or GetwaieiPlayerOptions(PLAYER_2,"3.9 Mini")) and 2 or 1)

[PlayerOptions]

[PlayerShared]

[Profile]

[RadarValues]

[RollingNumbers]
TextFormat="%09.0f"
ApproachSeconds=0.2
Commify=true
LeadingZeroMultiplyColor=color("#777777FF")

[RollingNumbersScoreDefault]
TextFormat="%09.0f"
ApproachSeconds=0.2
Commify=true
LeadingZeroMultiplyColor=color("#777777FF")

[RollingNumbersScoreDDRA]
TextFormat="%07.0f"
ApproachSeconds=0.2
Commify=true
LeadingZeroMultiplyColor=color("#777777FF")

[RollingNumbersScoreDP_Percent]
TextFormat="%5.2f%%"
ApproachSeconds=0.2
Commify=false
LeadingZeroMultiplyColor=color("#777777FF")

[RollingNumbersScoreDP_Point]
TextFormat="%05.0f"
ApproachSeconds=0.2
Commify=true
LeadingZeroMultiplyColor=color("#777777FF")

[RollingNumbersEvaluation]
Fallback="RollingNumbers"
ApproachSeconds=0.0000001

[RollingNumbersJudgment]
Fallback="RollingNumbers"
ApproachSeconds=0.0000001

[ScoreDisplayNormal]
TextOnCommand=%function(self) TC_ScoreCommand(self); end;
TimeRemainingX=
TimeRemainingY=
TimeRemainingOnCommand=%function(self) TC_ScoreCommand(self); end;
TimeRemainingOffCommand=

[ScoreDisplayOni]
TextX=
TextY=
TextOnCommand=%function(self) TC_ScoreCommand(self); end;
TextOffCommand=

[ScoreDisplayOni Numbers]
TextX=
TextY=
TextOnCommand=%function(self) TC_ScoreCommand(self); end;
TextOffCommand=

[ScoreDisplayLifeTime]
FrameOnCommand=visible,false;spin
#
TimeRemainingY=80
TimeRemainingOnCommand=%function(self) TC_ScoreCommand(self); end;
#
DeltaSecondsOnCommand=y,80;spin;
#DeltaSecondsOnCommand=%function(self) TC_ScoreCommand(self); end;
DeltaSecondsGainLifeCommand=zoom,0.5;

[ScoreDisplayPercentage Percent]
PercentP1OnCommand=%function(self) TC_ScoreCommand(self); end;
PercentP2OnCommand=%function(self) TC_ScoreCommand(self); end;

[ScoreDisplayRave]
MeterP1OnCommand=draworder,-1
MeterP2OnCommand=draworder,-1;zoomx,-1
LevelP1OnCommand=draworder,105;zoom,0.75;diffuse,ColorLightTone( PlayerColor(PLAYER_1) );strokecolor,ColorDarkTone( PlayerColor(PLAYER_1) );x,-144;skewx,-0.125;
LevelP2OnCommand=draworder,105;draworder,105;zoom,0.75;diffuse,ColorLightTone( PlayerColor(PLAYER_2) );strokecolor,ColorDarkTone( PlayerColor(PLAYER_2) );x,144;skewx,-0.125;

[ScoreKeeperNormal]
PercentScoreWeightMissedHold=0
GradeWeightMissedHold=0

[ScoreKeeperRave]

[ScreenEvaluation Percent]
# TODO: Better name?
PercentP1OnCommand=horizalign,right;shadowlength,1;diffuse,PlayerColor(PLAYER_1);strokecolor,ColorDarkTone( PlayerColor(PLAYER_1) );
PercentP2OnCommand=horizalign,right;shadowlength,1;diffuse,PlayerColor(PLAYER_2);strokecolor,ColorDarkTone( PlayerColor(PLAYER_2) );
PercentRemainderP1OnCommand=horizalign,left;shadowlength,1;diffuse,PlayerColor(PLAYER_1);strokecolor,ColorDarkTone( PlayerColor(PLAYER_1) );
PercentRemainderP2OnCommand=horizalign,left;shadowlength,1;diffuse,PlayerColor(PLAYER_2);strokecolor,ColorDarkTone( PlayerColor(PLAYER_2) );
DancePointsP1X=0
DancePointsP1Y=0
DancePointsP1OnCommand=shadowlength,1;diffuse,PlayerColor(PLAYER_1);strokecolor,ColorDarkTone( PlayerColor(PLAYER_1) );
DancePointsP1OffCommand=
DancePointsP2X=0
DancePointsP2Y=0
DancePointsP2OnCommand=shadowlength,1;diffuse,PlayerColor(PLAYER_2);strokecolor,ColorDarkTone( PlayerColor(PLAYER_2) );
DancePointsP2OffCommand=
DancePointsDigits=2
ApplyScoreDisplayOptions=true
PercentDecimalPlaces=2
PercentTotalSize=5

[SoundEffectControl]

[SoundEffectControl_Off]

[SoundEffectControl_Speed]

[SoundEffectControl_Pitch]

[StepsDisplayListRow]
# TODO: Make this use DifficultyList?
CapitalizeDifficultyNames=false
NumShownItems=5
ItemsSpacingY=24
MoveCommand=decelerate,0.3

FrameX=

FrameSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(ColorMidTone( CustomDifficultyToColor(param.CustomDifficulty) )); \
	else \
		self:diffuse(color('1,1,1,1')); \
	end; \
end;
#
NumTicks=10
MaxTicks=10
#
ShowMeter=true
MeterX=56
MeterOnCommand=shadowlength,1;zoom,0.65;textglowmode,'TextGlowMode_Inner';
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
	if param.Meter then \
		if param.Meter >= 10 then \
			self:textglowmode('TextGlowMode_Inner'); \
			self:glowshift(); \
		else \
			self:stopeffect(); \
		end; \
	end; \
end;
#
ShowDescription=true
DescriptionX=GetUserPrefB("UserPrefAutoSetStyle") and (-64-8+20) or (-64-8)
DescriptionOnCommand=shadowlength,1;horizalign,left;zoom,0.65;maxwidth,128+8-20;uppercase,true;
DescriptionSetCommand=%function(self,param) \
	if self:GetText() == "" then \
		self:settext("Edit"); \
	end; \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
end;
#
ShowAutogen=true
AutogenX=0
AutogenY=0
#AutogenOnCommand=diffuseshift;effectcolor1,Color.Alpha( Color("Green") , 0.5 );effectcolor2,ColorLightTone( Color("Green") );
AutogenOnCommand=blend,Blend.Add;diffuseshift;effectcolor1,color("#FFCC00FF");effectcolor2,color("#FFCC0088");
#
ShowStepsType=GetUserPrefB("UserPrefAutoSetStyle")
StepsTypeX=-64-8
StepsTypeY=0
StepsTypeOnCommand=
StepsTypeSetCommand=

[SongMeterDisplay]
StreamWidth=330

ContainerX=0
ContainerY=0
ContainerOnCommand=sleep,2;linear,0.25;diffuse,Color("Orange");glow,1,1,1,0.5;decelerate,0.6;glow,1,1,1,0
ContainerOffCommand=

ShowFrame=false
FrameX=0
FrameY=0
FrameOnCommand=
FrameOffCommand=

ShowStream=false
StreamX=0
StreamY=0
StreamOnCommand=0
StreamOffCommand=0

ShowTip=false
TipX=0
TipY=0
TipOnCommand=
TipOffCommand=

[SongMeterDisplayP1]
Fallback="SongMeterDisplay"
ContainerOnCommand=sleep,2;linear,0.25;diffuse,PlayerColor(PLAYER_1);glow,1,1,1,0.5;decelerate,0.6;glow,1,1,1,0
[SongMeterDisplayP2]
Fallback="SongMeterDisplay"
ContainerOnCommand=sleep,2;linear,0.25;diffuse,PlayerColor(PLAYER_2);glow,1,1,1,0.5;decelerate,0.6;glow,1,1,1,0

[StepsDisplayEvaluation]
Fallback="StepsDisplay"

[StreamDisplay]
; a simple bar life meter:
; PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) local native_width=32; local zoomed_width=12; self:zoomx(zoomed_width/native_width); self:x((itemIndex-(numItems/2))*zoomed_width); end
# PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	# local fItemWidth = ( 256 / numItems ) \
	# self:x( ((itemIndex-(numItems/2))*fItemWidth) + ( numItems / 2 ) ); \
	# self:zoomtowidth(fItemWidth); \
	# self:diffuseramp(); \
	# self:effectperiod(4); \
	# self:effectoffset((itemIndex-1)/numItems * -1); \
	# self:effectcolor2(color("1,1,1,1")); \
	# self:effectcolor1(color("0.5,0.5,0.5,1")); \
	# self:effectclock('beatnooffset'); \
# end;
PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	local fItemWidth = ( 256 / numItems ) \
	self:x( ((itemIndex-(numItems/2))*fItemWidth) + ( numItems / 2 ) ); \
	self:zoomtowidth(fItemWidth); \
end;
# PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	# local fItemWidth = ( 256 / numItems ) \
	# self:x( ((itemIndex-(numItems/2))*fItemWidth) + ( numItems / 2 ) ); \
	# self:zoomtowidth(fItemWidth); \
	# self:diffuseramp(); \
	# self:effecttiming(1,0.01875*itemIndex,1,1-(0.01875*itemIndex)); \
	# self:effectclock('beatnooffset'); \
# end;
TextureCoordScaleX=256/16
NumPills=16

[Screen]

[ScreenDebugOverlay]
HeaderTextX=SCREEN_LEFT+120

[ScreenSystemLayer]
ShowClock=true
CreditsP1OnCommand=horizalign,left;vertalign,bottom;zoom,0.675;shadowlength,1;diffusebottomedge,PlayerColor(PLAYER_1);
#
CreditsP2OnCommand=horizalign,right;vertalign,bottom;zoom,0.675;shadowlength,1;diffusebottomedge,PlayerColor(PLAYER_2);

[ScreenConsoleOverlay]

[ScreenInstallOverlay]

[ScreenSyncOverlay]
StatusOnCommand=vertalign,bottom;x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y+170;zoom,0.5;shadowlength,2;strokecolor,color("#000000");

[ScreenStatsOverlay]

[ScreenWithMenuElements]
WaitForChildrenBeforeTweening=true

ScreenInDelay=0
ScreenOutDelay=0

FOV=90
ShowHeader=true
HeaderX=SCREEN_CENTER_X
HeaderY=SCREEN_TOP
HeaderOnCommand=draworder,5;
HeaderOffCommand=

ShowFooter=true
FooterX=SCREEN_CENTER_X
FooterY=SCREEN_BOTTOM
FooterOnCommand=draworder,5;
FooterOffCommand=

ShowHelp=true
HelpX=SCREEN_CENTER_X
HelpY=SCREEN_BOTTOM-16
HelpOnCommand=SetSecsBetweenSwitches,4;zoom,0.675;maxwidth,480/0.675;shadowlength,1;strokecolor,Color("Black");draworder,105;zoomy,0;zoom,1*0.675;linear,0.175
HelpOffCommand=linear,0.175;zoomy,0

AlternateHelpDisplayX=SCREEN_CENTER_X
AlternateHelpDisplayY=SCREEN_BOTTOM-16
# AlternateHelpDisplayOnCommand=draworder,105;
AlternateHelpDisplayOnCommand=SetSecsBetweenSwitches,4;zoom,0.675;maxwidth,480/0.675;shadowlength,1;strokecolor,Color("Black");draworder,105;zoomy,0;linear,0.175;zoom,1*0.675;diffusealpha,0
AlternateHelpDisplayOffCommand=linear,0.175;zoomy,0

TimerX=SCREEN_RIGHT-36-4
TimerY=SCREEN_TOP+22
TimerOnCommand=draworder,6;visible,PREFSMAN:GetPreference("MenuTimer");
# TimerOnCommand=fov,90;vanishpoint,SCREEN_RIGHT-36-4,SCREEN_TOP+20;draworder,5;visible,PREFSMAN:GetPreference("MenuTimer");rotationy,90;decelerate,0.4;rotationy,0;
TimerOffCommand=
# TimerOffCommand=accelerate,0.4;rotationx,90;

StageDisplayNumberOffset=1

# This is useful 
ArcadeOverlayX=
ArcadeOverlayY=
ArcadeOverlayOnCommand=draworder,100
ArcadeOverlayOffCommand=
#
ArcadeOverlay.TextX=SCREEN_CENTER_X
ArcadeOverlay.TextY=SCREEN_BOTTOM-48
ArcadeOverlay.TextOnCommand=visible,false
ArcadeOverlay.TextOffCommand=

[ScreenWithMenuElementsBlank]
ShowHeader=false
ShowFooter=false

[ScreenSelectMaster]
Fallback="ScreenWithMenuElements"
StopMusicOnBack=false
HelpText=ScreenString("HelpText")

[ScreenSelectMasterBlank]

[ScreenTextEntry]
QuestionOnCommand=diffuse,Color("Orange");diffusetopedge,BoostColor(Color("Orange"),1.5);wrapwidthpixels,600
AnswerOnCommand=diffuse,Color("Blue");glowshift;


[ScreenInit]
#PrepareScreens="ScreenTitleMenu,ScreenTitleJoin"
#GroupedScreens="ScreenInit,ScreenTitleJoin"
#PersistScreens="ScreenInit,ScreenTitleJoin,ScreenTitleMenu"
TimerSeconds=20
NextScreen="ScreenThemeLogo"

[ScreenChangedThemeColors]
ShowHeader=false
ShowFooter=false
ShowHelp=false
ShowCreditDisplay=false
ShowSystemLayer=false
Fallback="ScreenWithMenuElements"
NextScreen="ScreenInit"
PrevScreen="ScreenInit"
PlayMusic=true
StopMusicOnBack=true
TimerSeconds=20
TimerStealth=true

[ScreenThemeLogo]
ShowHeader=false
ShowFooter=true
Fallback="ScreenWithMenuElements"
NextScreen="ScreenHowToPlay"
PrevScreen="ScreenOpening"
PlayMusic=false
StopMusicOnBack=true
TimerSeconds=20
TimerStealth=true
CodeNames=ThemeLogoCode()..",Test"
CodeLeft="MenuLeft"
CodeLeft2="Left"
CodeLeft3="DownLeft"
CodeLeft4="UpLeft"
CodeRight="MenuRight"
CodeRight2="Right"
CodeRight3="DownRight"
CodeRight4="UpRight"
CodeStart="Start"
CodeStart2="Center"
CodeBack="Back"
CodeTest="MenuUp,MenuUp"

[ScreenTitleMenu]
ShowHeader=false
ShowFooter=false
NextScreen="ScreenHowToPlay"
#
WrapScroller=false
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y((24)*(itemIndex-(numItems-1)/2)); end;
ScrollerSecondsPerItem=0
ScrollerNumItemsToDraw=20
ScrollerX=SCREEN_CENTER_X
ScrollerY=SCREEN_CENTER_Y+80
ScrollerOnCommand=zoom,0;bounceend,0.35;zoom,1
#
ShowLogo=true
LogoX=SCREEN_CENTER_X
LogoY=SCREEN_CENTER_Y-90
LogoOnCommand=
LogoOffCommand=
#
ShowCurrentGametype=true
CurrentGametypeX=SCREEN_WIDTH*0.01
CurrentGametypeY=SCREEN_HEIGHT*0.1575
CurrentGametypeOnCommand=vertalign,bottom;
CurrentGametypeOffCommand=linear,0.5;cropleft,1
#
ShowNumSongs=true
NumSongsX=SCREEN_WIDTH*0.99
NumSongsY=SCREEN_HEIGHT*0.1575+5
NumSongsOnCommand=vertalign,bottom;horizalign,right;zoom,0.5;playcommand,"Set"
NumSongsOffCommand=
#
#
ShowTimingDifficulty=true
TimingDifficultyX=SCREEN_LEFT+84
TimingDifficultyY=SCREEN_TOP+22
TimingDifficultyOnCommand=
TimingDifficultyOffCommand=
#
ShowLifeDifficulty=true
LifeDifficultyX=SCREEN_LEFT+84
LifeDifficultyY=SCREEN_TOP+48
LifeDifficultyOnCommand=
LifeDifficultyOffCommand=
#
ShowSystemDirection=false
SystemDirectionX=SCREEN_LEFT+40
SystemDirectionY=SCREEN_TOP+24
SystemDirectionOnCommand=
SystemDirectionOffCommand=
#
ShowVersionInfo=true
VersionInfoX=SCREEN_RIGHT-90
VersionInfoY=SCREEN_BOTTOM-64
VersionInfoOnCommand=
VersionInfoOffCommand=
#
ShowNetworkStatus=true
NetworkStatusX=SCREEN_LEFT+12
NetworkStatusY=SCREEN_HEIGHT*0.85
NetworkStatusOnCommand=halign,0;
NetworkStatusOffCommand=linear,0.5;cropright,1
#
HelpY=SCREEN_BOTTOM-24
#
DefaultChoice="GameStart"
ChoiceNames="GameStart,Options,Edit,Jukebox,GameSelect"..CPScreen()..",Exit"
ChoiceGameStart="applydefaultoptions;text,Game Start;screen,"..Branch.AfterTitleMenu()
ChoiceOptions="screen,ScreenOptionsService;text,Options"
ChoiceEdit="text,Edit/Share;screen,"..Branch.OptionsEdit()
ChoiceExit="screen,ScreenExit;text,Exit"
ChoiceGameSelect="screen,ScreenSelectGame;text,Select Game"
ChoiceJukebox="screen,ScreenJukeboxMenu;text,Jukebox"
ChoiceCustom1="text,Custom1;screen,ScreenCustomTitle1"
ChoiceCustom2="text,Custom2;screen,ScreenCustomTitle2"
ChoiceCustom3="text,Custom3;screen,ScreenCustomTitle3"
ChoiceCustom4="text,Custom4;screen,ScreenCustomTitle4"

[ScreenDialog]
Class="ScreenWithMenuElements"
Fallback="ScreenWithMenuElements"
ShowHeader=false
ShowFooter=false
NextScreen="ScreenEvaluation"
PrevScreen="ScreenEvaluation"
TimerSeconds=15
TimerStealth=false
CodeNames=DialogCode()
CodeStart="Start"
CodeCenter="Center"
CodeBack="Back"
CodeLeft="MenuLeft"
CodeLeft2="Left"
CodeLeft3="DownLeft"
CodeLeft4="UpLeft"
CodeRight="MenuRight"
CodeRight2="Right"
CodeRight3="DownRight"
CodeRight4="UpRight"

[ScreenQuickSetupOverview]
IconStartX=SCREEN_CENTER_X-160
IconStartY=SCREEN_BOTTOM-60
IconSetX=SCREEN_CENTER_X-160
IconSetY=SCREEN_BOTTOM-60
IconBackX=SCREEN_CENTER_X+160
IconBackY=SCREEN_BOTTOM-60

ExplanationX=SCREEN_CENTER_X
ExplanationY=SCREEN_BOTTOM-100
ExplanationOnCommand=shadowlength,1;zoom,0.75;maxwidth,SCREEN_WIDTH/0.75;
ExplanationOffCommand=

[ScreenProfileLoad]
#
ShowHeader=true
ShowFooter=true
ShowHelp=true

[ScreenSelectProfile]
ScreenOutDelay=0.3
WaitForChildrenBeforeTweening=true

[ScreenSelectStyle]
ScreenOutDelay=0.3
UpdateOnMesage=""
#
FOV=60
#
DefaultChoice="Single,Versus"
PerChoiceScrollElement=false
PerChoiceIconElement=false
#
Choice7Keys="name,7Keys;style,single7;screen,"..Branch.AfterSelectStyle()
Choice10Keys="name,10Keys;style,double10;screen,"..Branch.AfterSelectStyle()
Choice14Keys="name,14Keys;style,double14;screen,"..Branch.AfterSelectStyle()
ChoiceKB7="name,kb7;style,single;screen,"..Branch.AfterSelectStyle()
#
ShowScroller=false
ShowIcon=true
WrapScroller=false
UseIconMetrics=true
#
IconGainFocusCommand=stoptweening;bounceend,0.125;zoom,1;
IconLoseFocusCommand=stoptweening;decelerate,0.25;zoom,0.8;
#
IconChoiceSingleX=SCREEN_CENTER_X-120
IconChoiceSingleY=SCREEN_CENTER_Y-96
IconChoiceSingleOnCommand=SetFOV,60;rotationy,-30;zoom,0;bounceend,0.35;zoom,1
IconChoiceSingleOffCommand=linear,0.1175;zoomx,0
#
IconChoiceDoubleX=SCREEN_CENTER_X-120
IconChoiceDoubleY=SCREEN_CENTER_Y
IconChoiceDoubleOnCommand=SetFOV,60;rotationy,-30;zoom,0;bounceend,0.35;zoom,1
IconChoiceDoubleOffCommand=linear,0.1175;zoomx,0
####
IconChoiceSoloX=SCREEN_CENTER_X-120
IconChoiceSoloY=SCREEN_CENTER_Y+96
IconChoiceSoloOnCommand=SetFOV,60;rotationy,-30;zoom,0;bounceend,0.35;zoom,1
IconChoiceSoloOffCommand=linear,0.1175;zoomx,0
#
IconChoiceHalfDoubleX=SCREEN_CENTER_X-120
IconChoiceHalfDoubleY=SCREEN_CENTER_Y+96
IconChoiceHalfDoubleOnCommand=SetFOV,60;rotationy,-30;zoom,0;bounceend,0.35;zoom,1
IconChoiceHalfDoubleOffCommand=linear,0.1175;zoomx,0
####
IconChoiceVersusX=SCREEN_CENTER_X+120
IconChoiceVersusY=string.find(THEME:GetMetric("ScreenSelectStyle","ChoiceNames"),"Routine") and SCREEN_CENTER_Y-96 or SCREEN_CENTER_Y-48
IconChoiceVersusOnCommand=SetFOV,60;rotationy,30;zoom,0;bounceend,0.35;zoom,1
IconChoiceVersusOffCommand=linear,0.1175;zoomx,0
#
IconChoiceCoupleX=SCREEN_CENTER_X+120
IconChoiceCoupleY=string.find(THEME:GetMetric("ScreenSelectStyle","ChoiceNames"),"Routine") and SCREEN_CENTER_Y or SCREEN_CENTER_Y+48
IconChoiceCoupleOnCommand=SetFOV,60;rotationy,30;zoom,0;bounceend,0.35;zoom,1
IconChoiceCoupleOffCommand=linear,0.1175;zoomx,0
#
IconChoiceRoutineX=SCREEN_CENTER_X+120
IconChoiceRoutineY=SCREEN_CENTER_Y+96
IconChoiceRoutineOnCommand=SetFOV,60;rotationy,30;zoom,0;bounceend,0.35;zoom,1
IconChoiceRoutineOffCommand=linear,0.1175;zoomx,0
#
IconChoicekb7X=SCREEN_CENTER_X
IconChoicekb7Y=SCREEN_CENTER_Y
IconChoicekb7OnCommand=zoom,0;bounceend,0.35;zoom,1
IconChoicekb7OffCommand=linear,0.1175;zoomx,0
#
IconChoice5KeysX=SCREEN_CENTER_X-120
IconChoice5KeysY=SCREEN_CENTER_Y-48
IconChoice5KeysOnCommand=SetFOV,60;rotationy,-30;zoom,0;bounceend,0.35;zoom,1
IconChoice5KeysOffCommand=linear,0.1175;zoomx,0
#
IconChoice7KeysX=SCREEN_CENTER_X-120
IconChoice7KeysY=SCREEN_CENTER_Y+48
IconChoice7KeysOnCommand=SetFOV,60;rotationy,-30;zoom,0;bounceend,0.35;zoom,1
IconChoice7KeysOffCommand=linear,0.1175;zoomx,0
#
IconChoice10KeysX=SCREEN_CENTER_X+120
IconChoice10KeysY=SCREEN_CENTER_Y-48
IconChoice10KeysOnCommand=SetFOV,60;rotationy,30;zoom,0;bounceend,0.35;zoom,1
IconChoice10KeysOffCommand=linear,0.1175;zoomx,0
#
IconChoice14KeysX=SCREEN_CENTER_X+120
IconChoice14KeysY=SCREEN_CENTER_Y+48
IconChoice14KeysOnCommand=SetFOV,60;rotationy,30;zoom,0;bounceend,0.35;zoom,1
IconChoice14KeysOffCommand=linear,0.1175;zoomx,0
#
IconChoiceSingle4X=SCREEN_CENTER_X-120
IconChoiceSingle4Y=SCREEN_CENTER_Y-96
IconChoiceSingle4OnCommand=SetFOV,60;rotationy,-30;zoom,0;bounceend,0.35;zoom,1
IconChoiceSingle4OffCommand=linear,0.1175;zoomx,0
#
IconChoiceSingle5X=SCREEN_CENTER_X-120
IconChoiceSingle5Y=SCREEN_CENTER_Y
IconChoiceSingle5OnCommand=SetFOV,60;rotationy,-30;zoom,0;bounceend,0.35;zoom,1
IconChoiceSingle5OffCommand=linear,0.1175;zoomx,0
####
IconChoiceSingle8X=SCREEN_CENTER_X-120
IconChoiceSingle8Y=SCREEN_CENTER_Y+96
IconChoiceSingle8OnCommand=SetFOV,60;rotationy,-30;zoom,0;bounceend,0.35;zoom,1
IconChoiceSingle8OffCommand=linear,0.1175;zoomx,0
#
IconChoiceDouble4X=SCREEN_CENTER_X+120
IconChoiceDouble4Y=SCREEN_CENTER_Y-96
IconChoiceDouble4OnCommand=SetFOV,60;rotationy,30;zoom,0;bounceend,0.35;zoom,1
IconChoiceDouble4OffCommand=linear,0.1175;zoomx,0
#
IconChoiceDouble5X=SCREEN_CENTER_X+120
IconChoiceDouble5Y=SCREEN_CENTER_Y
IconChoiceDouble5OnCommand=SetFOV,60;rotationy,30;zoom,0;bounceend,0.35;zoom,1
IconChoiceDouble5OffCommand=linear,0.1175;zoomx,0
####
IconChoiceDouble8X=SCREEN_CENTER_X+120
IconChoiceDouble8Y=SCREEN_CENTER_Y+96
IconChoiceDouble8OnCommand=SetFOV,60;rotationy,30;zoom,0;bounceend,0.35;zoom,1
IconChoiceDouble8OffCommand=linear,0.1175;zoomx,0

[ScreenSelectPlayMode]
#PersistScreens="ScreenSelectPlayMode,ScreenSelectGroup"
#
ScreenOutDelay=2
#
DefaultChoice="Normal"
#ChoiceNames=(GAMESTATE:GetNumPlayersEnabled()==1) and "Oni,Normal,Nonstop,Drill" or "Oni,Normal,Nonstop"
ChoiceNames=(GAMESTATE:GetNumPlayersEnabled()==1) and "Normal,Drill" or "Normal"
#ChoiceNames="Normal"
#
PerChoiceIconElement=false
#
ShowScroller=true
WrapScroller=false
ScrollerTransform=function(self,offset,itemIndex,numItems)\
	local coffset=math.abs(offset-numItems); \
	if math.abs(offset)<1 then \
		self:zoom(1.0); \
		self:diffusealpha(1.0); \
	else \
		self:zoom(0.8); \
		self:diffusealpha(0.5); \
	end; \
	self:x((220-25*(854-SCREEN_WIDTH)/214)*offset);\
end;
ScrollerSecondsPerItem=0.2
ScrollerNumItemsToDraw=5
ScrollerX=SCREEN_CENTER_X+_HS2
ScrollerY=SCREEN_CENTER_Y+100
ScrollerOnCommand=
ScrollerOffCommand=
#
ShowBackgroundFrame=false
BackgroundFrameX=SCREEN_CENTER_X
BackgroundFrameY=SCREEN_CENTER_Y-60
BackgroundFrameOnCommand=
BackgroundFrameOffCommand=
#
#ShowBackgroundCube=false
#BackgroundCubeX=SCREEN_CENTER_X
#BackgroundCubeY=SCREEN_BOTTOM+100
#BackgroundCubeOnCommand=diffuse,ColorLightTone(color("#0064FF"));rotationx,45;zoom,0.5;bounceend,0.5;y,SCREEN_CENTER_Y;zoom,SCREEN_HEIGHT/600;rotationx,0;
#BackgroundCubeOnCommand=diffuse,ColorLightTone(color("#0064FF"));rotationx,45;zoom,0.5;bounceend,0.5;y,SCREEN_CENTER_Y;zoom,SCREEN_HEIGHT/600;rotationx,0;
#BackgroundCubeOffCommand=linear,0.5;zoom,SCREEN_HEIGHT/200;rotationx,45;x,SCREEN_LEFT-200;diffusealpha,5;linear,0.1;zoom,0;
#
ShowIcon=true
UseIconMetrics=true
#
IconGainFocusCommand=stoptweening;zoom,0.5;diffusealpha,0.5;bounceend,0.2;zoom,1;diffusealpha,1;
IconLoseFocusCommand=stoptweening;decelerate,0.25;zoom,0.5;diffusealpha,0.5;
# IconMinZoom=0.5
# IconBaseZoom=0.6
#
ChoiceNormal="screen,ScreenCreateSortFile"
IconChoiceNormalX=SCREEN_CENTER_X-((GAMESTATE:GetNumPlayersEnabled()<=1) and 100 or 0)
IconChoiceNormalY=SCREEN_TOP+150
IconChoiceNormalOnCommand=
IconChoiceNormalOffCommand=
#
IconChoiceNonstopX=SCREEN_CENTER_X
IconChoiceNonstopY=SCREEN_TOP+50
IconChoiceNonstopOnCommand=
IconChoiceNonstopOffCommand=
#
ChoiceDrill="screen,ScreenSelectDrillCategory"
IconChoiceDrillX=SCREEN_CENTER_X+100
IconChoiceDrillY=SCREEN_TOP+150
IconChoiceDrillOnCommand=
IconChoiceDrillOffCommand=
#
IconChoiceEasyX=SCREEN_CENTER_X-(240*(5/6))
IconChoiceEasyY=SCREEN_BOTTOM-88-40
IconChoiceEasyOnCommand=
IconChoiceEasyOffCommand=
#
IconChoiceHardX=SCREEN_CENTER_X+(80*(5/6))
IconChoiceHardY=SCREEN_BOTTOM-88-40
IconChoiceHardOnCommand=SetFOV,60;rotationy,-45;zoom,0;bounceend,0.35;zoom,0.8
IconChoiceHardOffCommand=linear,0.1175;zoomx,0
#
IconChoiceRaveX=SCREEN_CENTER_X-80
IconChoiceRaveY=SCREEN_BOTTOM-88-40
IconChoiceRaveOnCommand=SetFOV,60;rotationy,-45;zoom,0;bounceend,0.35;zoom,0.8
IconChoiceRaveOffCommand=linear,0.1175;zoomx,0
#
IconChoiceExtendedX=SCREEN_CENTER_X-160
IconChoiceExtendedY=SCREEN_BOTTOM-88-40
IconChoiceExtendedOnCommand=SetFOV,60;rotationy,-45;zoom,0;bounceend,0.35;zoom,0.8
IconChoiceExtendedOffCommand=linear,0.1175;zoomx,0
#
IconChoiceEndlessX=SCREEN_CENTER_X+160
IconChoiceEndlessY=SCREEN_BOTTOM-88-40
IconChoiceEndlessOnCommand=SetFOV,60;rotationy,-45;zoom,0;bounceend,0.35;zoom,0.8
IconChoiceEndlessOffCommand=linear,0.1175;zoomx,0

[ScreenSetDrillAndBeforeSelectStyle]
ShowHeader=false
ShowFooter=false
ShowHelp=false
Class="ScreenWithMenuElements"
Fallback="ScreenWithMenuElements"
NextScreen="ScreenSelectStyle"
PrevScreen="ScreenSelectPlayMode"
PlayMusic=true

[ScreenSetCourseAndBeforeSelectStyle]
ShowHeader=false
ShowFooter=false
ShowHelp=false
Class="ScreenWithMenuElements"
Fallback="ScreenWithMenuElements"
NextScreen="ScreenSelectStyle"
PrevScreen="ScreenSelectPlayMode"
PlayMusic=true

[ScreenSelectCharacter]

[ScreenGameInformation]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
NextScreen=GAMESTATE:IsCourseMode() and "ScreenSelectCourse" or "ScreenSelectMusic"
PrevScreen=Branch.TitleMenu()
TimerSeconds=15
#
DefaultChoice="Delay"
ChoiceNames="Delay"
#
ChoiceDelay="screen,ScreenSelectMusic"
#
ShowScroller=false
ShowIcon=false

[ScreenSelectDrillCategory]
ShowHeader=false
ShowFooter=false
ShowHelp=false
Class="ScreenWithMenuElements"
Fallback="ScreenWithMenuElements"
NextScreen="ScreenSelectDrillDifficulty"
PrevScreen="ScreenTitleMenu"
PlayMusic=true
StopMusicOnBack=true
TimerSeconds=30
#
CodeNames=DrillCode()
CodeLeft="+MenuLeft"
CodeLeft2="+Left"
CodeLeft3="+DownLeft"
CodeLeft4="+UpLeft"
CodeRight="+MenuRight"
CodeRight2="+Right"
CodeRight3="+DownRight"
CodeRight4="+UpRight"
CodeStart="+Start"
CodeCenter="+Center"
CodeBackD="Back"
CodeBackU="~Back"
CodeSelect="Select"

[ScreenSelectDrillDifficulty]
ShowHeader=false
ShowFooter=false
ShowHelp=false
Class="ScreenWithMenuElements"
Fallback="ScreenWithMenuElements"
NextScreen="ScreenTitleMenu"
PrevScreen="ScreenSelectDrillCategory"
PlayMusic=true
StopMusicOnBack=true
TimerSeconds=60
#
CodeNames=DrillCode()
CodeLeft="+MenuLeft"
CodeLeft2="+Left"
CodeLeft3="+DownLeft"
CodeLeft4="+UpLeft"
CodeRight="+MenuRight"
CodeRight2="+Right"
CodeRight3="+DownRight"
CodeRight4="+UpRight"
CodeStart="+Start"
CodeCenter="+Center"
CodeBackD="Back"
CodeBackU="~Back"
CodeSelect="Select"

[ScreenDrillEvaluation]
ShowHeader=false
ShowFooter=false
ShowHelp=false
Class="ScreenWithMenuElements"
Fallback="ScreenWithMenuElements"
NextScreen="ScreenSelectDrillDifficulty"
PrevScreen="ScreenSelectDrillDifficulty"
TimerSeconds=40
#
MusicWheelType="MusicWheel"
CodeNames=DrillEvaluationCode()
CodeLeft="+MenuLeft"
CodeLeft2="+Left"
CodeLeft3="+DownLeft"
CodeLeft4="+UpLeft"
CodeRight="+MenuRight"
CodeRight2="+Right"
CodeRight3="+DownRight"
CodeRight4="+UpRight"
CodeStart="+Start"
CodeCenter="+Center"
CodeBack="+Back"
CodeSelect="Select"

[ScreenCreateSortFile]
ShowHeader=false
ShowFooter=false
ShowHelp=false
Class="ScreenWithMenuElements"
Fallback="ScreenWithMenuElements"
NextScreen="ScreenSelectMusic"
PrevScreen="ScreenSelectMusic"

[MusicWheel]
# ＜直線型＞
# 移動方向：そのまま
# ZOOM：中央を中心に拡大縮小
# ROTATE：そのまま
# ＜反射型＞
# 移動方向：中央を中心に反射、横スクロールの場合はYが反射、縦スクロールの場合はXが反射
# ZOOM：中央を中心に拡大縮小
# ROTATE：そのまま
SwitchSeconds=0.08
LockedInitialVelocity=5
ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	if TC_GetwaieiMode()==2 then \
		local absOffset=math.abs(offsetFromCenter); \
		local styleOffset = (TC_GetMetric("Wheel","Style")==0) and offsetFromCenter or absOffset; \
		local offset = (offsetFromCenter>=0) and 1 or -1; \
		if absOffset<1 then \
			self:zoomx(TC_GetMetric("Wheel","CZoomX")+(TC_GetMetric("Wheel","SZoomX")-TC_GetMetric("Wheel","CZoomX"))*absOffset); \
			self:zoomy(TC_GetMetric("Wheel","CZoomY")+(TC_GetMetric("Wheel","SZoomY")-TC_GetMetric("Wheel","CZoomY"))*absOffset); \
			self:zoomz(TC_GetMetric("Wheel","CZoomZ")+(TC_GetMetric("Wheel","SZoomZ")-TC_GetMetric("Wheel","CZoomZ"))*absOffset); \
			if TC_GetMetric("Wheel","Flow")=='X' then \
				self:rotationx(TC_GetMetric("Wheel","CRotateX")+(TC_GetMetric("Wheel","SRotateX")-TC_GetMetric("Wheel","CRotateX"))*absOffset); \
				self:rotationy(TC_GetMetric("Wheel","CRotateY")+(TC_GetMetric("Wheel","SRotateY")-TC_GetMetric("Wheel","CRotateY"))*offsetFromCenter); \
				self:rotationz(TC_GetMetric("Wheel","CRotateZ")+(TC_GetMetric("Wheel","SRotateZ")-TC_GetMetric("Wheel","CRotateZ"))*offsetFromCenter); \
				self:x(TC_GetMetric("Wheel","CPosX")+TC_GetMetric("Wheel","SPosX")*offsetFromCenter); \
				self:y(TC_GetMetric("Wheel","CPosY")+TC_GetMetric("Wheel","SPosY")*styleOffset); \
				self:z(TC_GetMetric("Wheel","CPosZ")+TC_GetMetric("Wheel","SPosZ")*styleOffset); \
			else \
				self:rotationx(TC_GetMetric("Wheel","CRotateX")+(TC_GetMetric("Wheel","SRotateX")-TC_GetMetric("Wheel","CRotateX"))*offsetFromCenter); \
				self:rotationy(TC_GetMetric("Wheel","CRotateY")+(TC_GetMetric("Wheel","SRotateY")-TC_GetMetric("Wheel","CRotateY"))*absOffset); \
				self:rotationz(TC_GetMetric("Wheel","CRotateZ")+(TC_GetMetric("Wheel","SRotateZ")-TC_GetMetric("Wheel","CRotateZ"))*offsetFromCenter); \
				self:x(TC_GetMetric("Wheel","CPosX")+TC_GetMetric("Wheel","SPosX")*styleOffset); \
				self:y(TC_GetMetric("Wheel","CPosY")+TC_GetMetric("Wheel","SPosY")*offsetFromCenter); \
				self:z(TC_GetMetric("Wheel","CPosZ")+TC_GetMetric("Wheel","SPosZ")*styleOffset); \
			end; \
		else \
			local sideOffsetS  = (offsetFromCenter>=0) and offsetFromCenter-1 or offsetFromCenter+1; \
			local absOffsetS   = absOffset-1; \
			local styleOffsetS = (TC_GetMetric("Wheel","Style")==0) and sideOffsetS or absOffsetS; \
			local offsetS      = (TC_GetMetric("Wheel","Style")==0) and offset or math.abs(offset); \
			self:zoomx(TC_GetMetric("Wheel","SZoomX")+TC_GetMetric("Wheel","AddSZoomX")*absOffsetS); \
			self:zoomy(TC_GetMetric("Wheel","SZoomY")+TC_GetMetric("Wheel","AddSZoomY")*absOffsetS); \
			self:zoomz(TC_GetMetric("Wheel","SZoomZ")+TC_GetMetric("Wheel","AddSZoomZ")*absOffsetS); \
			if TC_GetMetric("Wheel","Flow")=='X' then \
				self:rotationx(TC_GetMetric("Wheel","SRotateX")+TC_GetMetric("Wheel","AddSRotateX")*absOffsetS); \
				self:rotationy(TC_GetMetric("Wheel","SRotateY")*offset+TC_GetMetric("Wheel","AddSRotateY")*sideOffsetS); \
				self:rotationz(TC_GetMetric("Wheel","SRotateZ")*offset+TC_GetMetric("Wheel","AddSRotateZ")*sideOffsetS); \
				self:x(TC_GetMetric("Wheel","CPosX")+TC_GetMetric("Wheel","SPosX")*offset+TC_GetMetric("Wheel","AddSPosX")*sideOffsetS); \
				self:y(TC_GetMetric("Wheel","CPosY")+TC_GetMetric("Wheel","SPosY")*offsetS+TC_GetMetric("Wheel","AddSPosY")*styleOffsetS); \
				self:z(TC_GetMetric("Wheel","CPosZ")+TC_GetMetric("Wheel","SPosZ")*offsetS+TC_GetMetric("Wheel","AddSPosZ")*styleOffsetS); \
			else \
				self:rotationx(TC_GetMetric("Wheel","SRotateX")*offset+TC_GetMetric("Wheel","AddSRotateX")*sideOffsetS); \
				self:rotationy(TC_GetMetric("Wheel","SRotateY")+TC_GetMetric("Wheel","AddSRotateY")*absOffsetS); \
				self:rotationz(TC_GetMetric("Wheel","SRotateZ")*offset+TC_GetMetric("Wheel","AddSRotateZ")*sideOffsetS); \
				self:x(TC_GetMetric("Wheel","CPosX")+TC_GetMetric("Wheel","SPosX")*offsetS+TC_GetMetric("Wheel","AddSPosX")*styleOffsetS); \
				self:y(TC_GetMetric("Wheel","CPosY")+TC_GetMetric("Wheel","SPosY")*offset+TC_GetMetric("Wheel","AddSPosY")*sideOffsetS); \
				self:z(TC_GetMetric("Wheel","CPosZ")+TC_GetMetric("Wheel","SPosZ")*offsetS+TC_GetMetric("Wheel","AddSPosZ")*styleOffsetS); \
			end; \
		end; \
		self:z(-absOffset); \
		self:zoomz(1); \
	else \
		if SCREEN_HEIGHT/SCREEN_WIDTH<0.65 then \
			if offsetFromCenter<=-1 then \
				self:zoom(0.5); \
				self:x(1.0*offsetFromCenter*110-50); \
				self:y(0); \
			elseif offsetFromCenter>=1 then \
				self:zoom(0.5); \
				self:x(1.0*offsetFromCenter*110+50); \
				self:y(0); \
			else \
				self:zoom(0.5+(0.5-(math.abs(offsetFromCenter)*0.5))); \
				self:x(1.0*offsetFromCenter*160); \
				self:y(-48+(math.abs(offsetFromCenter)*48)); \
			end;\
		else \
			if offsetFromCenter<=-1 then \
				self:zoom(0.4); \
				self:x(1.0*offsetFromCenter*85-60); \
				self:y(12); \
			elseif offsetFromCenter>=1 then \
				self:zoom(0.4); \
				self:x(1.0*offsetFromCenter*85+60); \
				self:y(12); \
			else \
				self:zoom(0.4+(0.6-(math.abs(offsetFromCenter)*0.6))); \
				self:x(1.0*offsetFromCenter*145); \
				self:y(-48+(math.abs(offsetFromCenter)*48)+math.abs(offsetFromCenter)*12); \
			end;\
		end;\
	end; \
end;
NumWheelItems=((TC_GetwaieiMode()==2) and 11 or 9);
MusicWheelSortOnCommand=fov,90;zoomz,1;
MusicWheelSortOffCommand=fov,90;
MusicWheelItemSortOnCommand=rotationy,-180;linear,0.2;rotationy,0
MusicWheelItemSortOffCommand=linear,0.2;rotationy,0
#HighlightOnCommand=zoom,0;linear,0.2;zoomto,158,158;diffuseshift;effecttiming,(1/8),0,(7/8),0;effectcolor2,Color("White");effectcolor1,color("1,1,1,0.5");effectclock,'beatnooffset';
#HighlightSortOnCommand=stoptweening;decelerate,0.2;glow,Color("Stealth");zoomto,158,158;
#HighlightSortOffCommand=stoptweening;accelerate,0.2;glow,Color("Blue");zoomto,158,158;
HighlightOnCommand=visible,false
HighlightSortOnCommand=visible,false
HighlightSortOffCommand=visible,false
WheelItemOnDelayOffset=0.04;
WheelItemOffDelayOffset=0.04

SectionColor1=Color("Blue")
#
SongRealExtraColor=Color("Red")
SortMenuColor=Color("Blue")
SortOrders={ "SortOrder_Preferred", "SortOrder_Title", "SortOrder_BPM", "SortOrder_Artist", "SortOrder_Genre" }

#
ModeMenuChoiceNames="Preferred,Title,Bpm,Popularity,TopGrades,Artist,EasyMeter,MediumMeter,HardMeter,ChallengeMeter,DoubleEasyMeter,DoubleMediumMeter,DoubleHardMeter,DoubleChallengeMeter,Genre,Length,Recent"

UseEasyMarkerFlag=true
#
ScrollBarHeight=((TC_GetwaieiMode()==2) and TC_GetMetric('Wheel','ScrollBarSize') or 320);
ScrollBarOnCommand=visible,true;rotationz,-90;blend,"BlendMode_Add";x,((TC_GetwaieiMode()==2) and TC_GetMetric('Wheel','ScrollBarPosX') or 0);y,((TC_GetwaieiMode()==2) and TC_GetMetric('Wheel','ScrollBarPosY') or 63);zoomx,1.0/TC_GetMetric("Wheel","ZoomX");zoomy,1.0/TC_GetMetric("Wheel","ZoomY");zoomz,1.0/TC_GetMetric("Wheel","ZoomZ");
#
ShowRoulette=false
ShowRandom=false
ShowPortal=false

CustomWheelItemNames=SetCustomWheel();
CustomWheelItemReturn=
CustomWheelItemEXFolder=
ReturnColor=1,0,0,1;
EXFolderColor=1,0,0,1;
OnlyShowActiveSection=false

[CourseWheel]

[OnlineMusicWheel]

[MusicWheelItem]
WheelNotifyIconX=-10000
WheelNotifyIconOnCommand=visible,false;
#
SongNameX=-10000
SongNameOnCommand=visible,false;
#
CourseX=-10000
CourseOnCommand=visible,false;
#
SectionExpandedX=-10000
SectionExpandedY=
SectionExpandedOnCommand=visible,false;
#
SectionCollapsedX=-10000
SectionCollapsedY=
SectionCollapsedOnCommand=visible,false;
#
SectionCountX=TC_GetMetric('Wheel','SongCountX');
SectionCountY=TC_GetMetric('Wheel','SongCountY');
SectionCountOnCommand=%TC_Wheel_SongCountCommand;
#SectionCountOnCommand=horizalign,right;strokecolor,0,0,0,0.1;diffuse,BoostColor(Color("Blue"),1.5);
#
RouletteOnCommand=zoom,0;visible,false;
RandomOnCommand=zoom,0;visible,false;
PortalOnCommand=zoom,0;visible,false;
#
SortX=-10000
SortY=
SortOnCommand=visible,false;
#
ModeX=-10000
ModeY=
ModeOnCommand=visible,false;
#
GradeP1X=-10000
GradeP1Y=0
GradeP2X=-10000
GradeP2Y=0

[TextBanner]
TitleOnCommand=horizalign,right;shadowlength,1;zoom,0;x,-10000;
SubtitleOnCommand=horizalign,right;shadowlength,1;zoom,0;x,-10000;
ArtistOnCommand=horizalign,right;shadowlength,1;skewx,-0.2;zoom,0;x,-10000;
ArtistPrependString=""

[ScreenSelectGroup]
ShowHeader=false
ShowFooter=false
ShowHelp=false
Class="ScreenWithMenuElements"
Fallback="ScreenWithMenuElements"
TimerSeconds=60
PrevScreen="ScreenSelectMusic"
NextScreen="ScreenSelectMusic"
#
#MusicWheelType="MusicWheel"
CodeNames=SelectGroupCode()
CodeLeft="+MenuLeft"
CodeLeft2="+Left"
CodeLeft3="+DownLeft"
CodeRight="+MenuRight"
CodeRight2="+Right"
CodeRight3="+DownRight"
CodeUp="+MenuUp"
CodeUp2="+Up"
CodeUp3="+UpLeft"
CodeDown="+MenuDown"
CodeDown2="+Down"
CodeDown3="+UpRight"
CodeStart="+Start"
CodeBackD="+Back"
CodeBackU="~Back"
CodeCenter="Center"
#
PlayMusic=false
StopMusicOnBack=false
#
ShowBannerFrame=true
BannerFrameX=THEME:GetMetric("ScreenSelectMusic","BannerFrameX")
BannerFrameY=THEME:GetMetric("ScreenSelectMusic","BannerFrameY")
#
TimerSeconds=getenv("SelMusicTimer") or 120

[ScreenSelectMusic]
NextScreen=Branch_Theme.PlayerOptions()
PrevScreen=Branch.TitleMenu()
CodeNames=SelectMusicCode()
CodeSelCWheel="~Start"
CodeSelCWheel2="~Center"
CodeViewScore="Select,Down"
CodeViewScore2="Select,MenuDown"
CodeViewScore3="Select,UpRight"
CodeExFolder="Select,Up"
CodeExFolder2="Select,MenuUp"
CodeExFolder3="Select,UpLeft"
CodeCloseFolder="MenuUp-MenuDown"
CodeCloseFolder2="Up-Down"
CodeCloseFolder3="UpLeft-UpRight"
CodeStart="~Start"
CodeCenter="~Center"
CodeLeft="MenuLeft"
CodeLeft2="Left"
CodeLeft3="DownLeft"
CodeRight="MenuRight"
CodeRight2="Right"
CodeRight3="DownRight"
HardCommentMeter=15
ShowOptionsMessageSeconds=0.8
UsePlayerSelectMenu=false
# OptionsMenuAvailable=(getenv(sMode) ~= Oni)
SelectMenuAvailable=true
# ModeMenuAvailable=(getenv(sMode) == Normal)
# HelpDisplay has things added here to make sure it disappears for another 
# actor, which we defined in this screens decorations.
HelpSelectMenuOpenedMessageCommand=stoptweening;maxwidth,480/0.675;zoom,0.675;accelerate,0.125;diffusealpha,0;zoom,0.675*0.75;
HelpSelectMenuClosedMessageCommand=stoptweening;maxwidth,480/0.675;zoom,0.675*0.75;bouncebegin,0.125;diffusealpha,1;zoom,0.675
# Clone everything from HelpDisplay: we're lazy
ShowAlternateHelpDisplay=true
ShowHeader=false
TimerSeconds=getenv("SelMusicTimer") or 120
AlternateHelpDisplaySelectMenuOpenedMessageCommand=stoptweening;maxwidth,480/0.675;zoom,0.675*1.25;bounceend,0.2;diffusealpha,1;zoom,0.675;
AlternateHelpDisplaySelectMenuClosedMessageCommand=stoptweening;maxwidth,480/0.675;zoom,0.675;accelerate,0.125;diffusealpha,0;zoom,0.675*0.75;
#
MusicWheelX=SCREEN_CENTER_X;
MusicWheelY=SCREEN_CENTER_Y;
MusicWheelOnCommand=%function(self, params) \
	self:SetDrawByZPosition(true); \
	self:zoomz(1); \
	self:fov(90); \
	self:addy(400); \
	self:addz(-200); \
	self:linear(0.2); \
	self:addy(-400); \
	self:addz(200); \
	self:visible(false); \
end;
MusicWheelOffCommand=linear,0.2;zoomx,0;
MusicWheelGoToEXFMessageCommand=%function(self, params) \
	self:playcommand("Off"); \
end;
#
ShowNewSong=not GAMESTATE:IsCourseMode()
NewSongX=0
NewSongY=0
NewSongOnCommand=visible,false;
NewSongOffCommand=
NewSongShowCommand=
NewSongHideCommand=
#
ShowSortOrderFrame=true
SortOrderFrameX=SCREEN_CENTER_X+128+32
SortOrderFrameY=SCREEN_TOP+24
SortOrderFrameOnCommand=draworder,105;shadowlength,1
SortOrderFrameSortCommand=
SortOrderFrameSongChosenCommand=linear,0.25;diffusealpha,0;
SortOrderFrameOffCommand=bouncebegin,0.15;zoomy,0;
#
ShowSortOrder=true
SortOrderX=SCREEN_CENTER_X+125
SortOrderY=SCREEN_TOP+24
SortOrderOnCommand=draworder,105;horizalign,left;strokecolor,Color("Outline");zoom,0.675;maxwidth,114/0.675;
SortOrderSortCommand=finishtweening;zoom,0.675*1.25;diffuse,Color("Yellow");diffusebottomedge,Color("Orange");decelerate,0.5;zoom,0.675;diffuse,Color("White");
SortOrderSongChosenCommand=linear,0.25;diffusealpha,0;
SortOrderOffCommand=bouncebegin,0.15;zoomy,0;
#
ShowStageDisplay=true
StageDisplayX=SCREEN_LEFT+320
StageDisplayY=SCREEN_TOP+24+3
StageDisplayOnCommand=skewx,-0.125;draworder,105;fov,90;zoom,0.675;zoomy,0;sleep,0.35;smooth,0.35;zoomy,0.675
StageDisplayOffCommand=linear,0.25;zoomy,0;
#
ShowDifficultyDisplay=false
DifficultyDisplayX=
DifficultyDisplayY=
DifficultyDisplayOnCommand=
DifficultyDisplayOffCommand=
#
BannerX=SCREEN_CENTER_X
BannerY=SCREEN_CENTER_Y
BannerOnCommand=visible,false;zoom,0;
BannerOffCommand=zoom,0;
#
ShowBannerFrame=true
BannerFrameX=SCREEN_CENTER_X
BannerFrameY=THEME:GetMetric("ScreenSelectMusic","MusicWheelY")-((TC_GetwaieiMode()==2) and 135 or ((SCREEN_HEIGHT/SCREEN_WIDTH>=0.65) and 155 or 185))
#
ShowBPMDisplay=true
BPMDisplayX=((TC_GetwaieiMode()==2) and SCREEN_CENTER_X+55 or SCREEN_CENTER_X-245)
BPMDisplayY=THEME:GetMetric("ScreenSelectMusic","BannerFrameY")-((TC_GetwaieiMode()==2) and 28 or -40)
BPMDisplayOffCommand=linear,0.2;zoomy,0;
#
ShowBPMLabel=true
BPMLabelX=THEME:GetMetric("ScreenSelectMusic","BPMDisplayX")-((TC_GetwaieiMode()==2) and 0 or 30)
BPMLabelY=THEME:GetMetric("ScreenSelectMusic","BPMDisplayY")+((TC_GetwaieiMode()==2) and 3 or -10)
BPMLabelOnCommand=
BPMLabelOffCommand=linear,0.2;zoomy,0;
#
ShowSongTime=true
SongTimeX=((TC_GetwaieiMode()==2) and SCREEN_CENTER_X+245 or SCREEN_CENTER_X-135)
SongTimeY=THEME:GetMetric("ScreenSelectMusic","BannerFrameY")-((TC_GetwaieiMode()==2) and 28 or -40)
SongTimeOffCommand=linear,0.2;zoomy,0;
ShowTimeLabel=(TC_GetwaieiMode()==2)
TimeLabelX=THEME:GetMetric("ScreenSelectMusic","SongTimeX")-30
TimeLabelY=THEME:GetMetric("ScreenSelectMusic","SongTimeY")+3
TimeLabelOnCommand=
TimeLabelOffCommand=linear,0.2;zoomy,0;
#
ShowSegmentDisplay=false;
SegmentDisplayX=
SegmentDisplayY=
SegmentDisplayOnCommand=
#
ShowDifficultyList=false
DifficultyListX=
DifficultyListY=
DifficultyListOnCommand=
DifficultyListOffCommand=
#
DifficultyListTweenOnCommand=
DifficultyListTweenOffCommand=
#
ShowPaneDisplayFrameP1=false
PaneDisplayFrameP1X=
PaneDisplayFrameP1Y=
PaneDisplayFrameP1OnCommand=
PaneDisplayFrameP1OffCommand=
PaneDisplayFrameP1PlayerJoinedMessageCommand=
#
ShowPaneDisplayTextP1=true
PaneDisplayTextP1X=((TC_GetwaieiMode()==2) and SCREEN_LEFT+170 or SCREEN_CENTER_X-112);
PaneDisplayTextP1Y=SCREEN_BOTTOM-58
PaneDisplayTextP1OnCommand=player,PLAYER_1;diffusealpha,0;addx,-340;linear,0.2;addx,340;diffusealpha,1;
PaneDisplayTextP1OffCommand=linear,0.2;addx,((TC_GetwaieiMode()==2) and -340 or -480);
PaneDisplayTextP1PlayerJoinedMessageCommand=%function(self,params) if params.Player == PLAYER_1 then self:playcommand("On") end end
#
ShowPaneDisplayFrameP2=false
PaneDisplayFrameP2X=
PaneDisplayFrameP2Y=
PaneDisplayFrameP2OnCommand=
PaneDisplayFrameP2OffCommand=
PaneDisplayFrameP2PlayerJoinedMessageCommand=
#
ShowPaneDisplayTextP2=true
PaneDisplayTextP2X=((TC_GetwaieiMode()==2) and SCREEN_RIGHT-170 or SCREEN_CENTER_X+112);
PaneDisplayTextP2Y=SCREEN_BOTTOM-58
PaneDisplayTextP2OnCommand=player,PLAYER_2;diffusealpha,0;addx,340;linear,0.2;addx,-340;diffusealpha,1;
PaneDisplayTextP2OffCommand=linear,0.2;addx,((TC_GetwaieiMode()==2) and 340 or 480);
PaneDisplayTextP2PlayerJoinedMessageCommand=%function(self,params) if params.Player == PLAYER_2 then self:playcommand("On") end end
#
ShowCourseContentsList=false
CourseContentsListX=
CourseContentsListY=
CourseContentsListOnCommand=
CourseContentsListOffCommand=
#
ShowNumCourseSongs=GAMESTATE:IsCourseMode()
NumCourseSongsX=0
NumCourseSongsY=0
NumCourseSongsOnCommand=visible,false;
NumCourseSongsOffCommand=
#
ShowSongOptions=true
SongOptionsX=SCREEN_CENTER_X
SongOptionsY=SCREEN_CENTER_Y
SongOptionsOnCommand=visible,false;draworder,1000
SongOptionsOffCommand=
#--
SongOptionsShowCommand=visible,true;uppercase,true;zoom,1.2;settext,THEME:GetString("ScreenSelectMusic","Press Start For Options");decelerate,0.3;zoom,1;
SongOptionsEnterCommand=uppercase,true;settext,THEME:GetString("ScreenSelectMusic","Entering Options");sleep,0.5;linear,0.3;zoomy,0;
SongOptionsHideCommand=linear,0.3;zoomy,0;
#
ShowSongOptionsFrame=true
SongOptionsFrameX=SCREEN_CENTER_X
SongOptionsFrameY=SCREEN_CENTER_Y
SongOptionsFrameOnCommand=visible,false;draworder,1000
SongOptionsFrameOffCommand=
#--
SongOptionsFrameShowCommand=visible,true;diffuse,Color("Orange");diffusealpha,0.5;zoomy,40*1.5;linear,1.5;zoomy,40;
SongOptionsFrameEnterCommand=sleep,0.5;linear,0.3;diffusealpha,0;
SongOptionsFrameHideCommand=linear,0.3;diffusealpha,0
#
CDTitleOnCommand=visible,false;
ShowCustomCDTitle=true
CustomCDTitleX=((TC_GetwaieiMode()==2) and SCREEN_CENTER_X-260 or SCREEN_CENTER_X-90)
CustomCDTitleY=((TC_GetwaieiMode()==2) and SCREEN_CENTER_Y-170 or SCREEN_CENTER_Y-178)
#
#
#
ScoreP1SortChangeCommand=stoptweening;
ScoreP2SortChangeCommand=stoptweening;
ScoreFrameP1SortChangeCommand=stoptweening;
ScoreFrameP2SortChangeCommand=stoptweening;
#
ShowStepsDisplayP1=GAMESTATE:IsHumanPlayer(PLAYER_1)
StepsDisplayP1X=SCREEN_CENTER_X-160
StepsDisplayP1Y=SCREEN_BOTTOM-60
StepsDisplayP1OnCommand=visible,THEME:GetMetric(Var "LoadingScreen","ShowStepsDisplayP1");addy,SCREEN_CENTER_Y;decelerate,0.35;addy,-SCREEN_CENTER_Y
StepsDisplayP1OffCommand=bouncebegin,0.15;zoomx,0;
# StepsDisplayP1CurrentStepsP1ChangedMessageCommand=stoptweening;zoom,1.2;decelerate,0.1;zoom,1
#
ShowStepsDisplayP2=GAMESTATE:IsHumanPlayer(PLAYER_2)
StepsDisplayP2X=SCREEN_CENTER_X+160
StepsDisplayP2Y=SCREEN_BOTTOM-60
StepsDisplayP2OnCommand=visible,THEME:GetMetric(Var "LoadingScreen","ShowStepsDisplayP2");addy,SCREEN_CENTER_Y;decelerate,0.35;addy,-SCREEN_CENTER_Y
StepsDisplayP2OffCommand=bouncebegin,0.15;zoomx,0;
# StepsDisplayP2CurrentStepsP2ChangedMessageCommand=stoptweening;zoom,1.2;decelerate,0.1;zoom,1
#
ShowPercentScoreP1=true
PercentScoreP1X=SCREEN_CENTER_X-80-1
PercentScoreP1Y=SCREEN_BOTTOM-60
PercentScoreP1OnCommand=player,PLAYER_1;addy,SCREEN_CENTER_Y;decelerate,0.35;addy,-SCREEN_CENTER_Y
PercentScoreP1OffCommand=bouncebegin,0.15;zoomx,0;
PercentScoreP1PlayerJoinedMessageCommand=player,PLAYER_1;addy,SCREEN_CENTER_Y;decelerate,0.35;addy,-SCREEN_CENTER_Y
#
ShowPercentScoreP2=true
PercentScoreP2X=SCREEN_CENTER_X+240-1
PercentScoreP2Y=SCREEN_BOTTOM-60
PercentScoreP2OnCommand=player,PLAYER_2;addy,SCREEN_CENTER_Y;decelerate,0.35;addy,-SCREEN_CENTER_Y
PercentScoreP2OffCommand=bouncebegin,0.15;zoomx,0;
PercentScoreP2PlayerJoinedMessageCommand=player,PLAYER_2;addy,SCREEN_CENTER_Y;decelerate,0.35;addy,-SCREEN_CENTER_Y

ShowGrooveRadarP1=not GAMESTATE:IsCourseMode()
GrooveRadarP1X=SCREEN_CENTER_X-((TC_GetwaieiMode()==2) and (280-15*(854-SCREEN_WIDTH)/214) or 240);
GrooveRadarP1Y=((TC_GetwaieiMode()==2) and SCREEN_HEIGHT-152 or SCREEN_CENTER_Y+100);
GrooveRadarP1OnCommand=zoom,((TC_GetwaieiMode()==2) and 0.8 or 1.1);
GrooveRadarP1OffCommand=bouncebegin,0.15;addx,-300;zoomy,0;

ShowGrooveRadarP2=not GAMESTATE:IsCourseMode()
GrooveRadarP2X=SCREEN_CENTER_X+((TC_GetwaieiMode()==2) and (280-15*(854-SCREEN_WIDTH)/214) or 240);
GrooveRadarP2Y=((TC_GetwaieiMode()==2) and SCREEN_HEIGHT-152 or SCREEN_CENTER_Y+100);
GrooveRadarP2OnCommand=zoom,((TC_GetwaieiMode()==2) and 0.8 or 1.1);
GrooveRadarP2OffCommand=bouncebegin,0.15;addx,300;zoomy,0;

[GrooveRadar]
# stream
Label1X=0
Label1Y=-78
# voltage
Label2X=-100
Label2Y=-20
# air
Label3X=-70
Label3Y=66
# freeze
Label4X=70
Label4Y=66
# chaos
Label5X=100
Label5Y=-20
 
LabelPreDelayOnCommand=finishtweening;zoom,1.5;diffuse,color("1,1,1,0");sleep,0.3
LabelOnDelay=0.2
# fade on to screen
LabelPostDelayOnCommand=linear,0.1;glow,color("1,1,1,1");accelerate,0.3;zoom,1;diffuse,color("1,1,1,1");glow,color("1,1,1,0")
EdgeWidth=1.5
If you are using sm-ssc, these metrics are also available to you: 


# How visible the middle is
CenterAlpha=0
# what to do with each player's part of the graph
RadarValueMapP1OnCommand=
RadarValueMapP2OnCommand=

[ScreenEXFolderIntro]
ShowHeader=false
ShowFooter=false
ShowHelp=false
Fallback="ScreenWithMenuElements"
NextScreen="ScreenSelectExMusic"
PrevScreen="ScreenSelectMusic"
StopMusicOnBack=true
TimerSeconds=99
TimerStealth=true
CodeNames=EXFolderIntroCode()
CodeLeft="MenuLeft"
CodeLeft2="Left"
CodeLeft3="DownLeft"
CodeRight="MenuRight"
CodeRight2="Right"
CodeRight3="DownRight"
CodeUp="MenuUp"
CodeUp2="Up"
CodeUp3="UpLeft"
CodeDown="MenuDown"
CodeDown2="Down"
CodeDown3="UpRight"
CodeStart="Start"
CodeCenter="Center"
CodeBack="Back"
CodeEffectUp="EffectUp"
CodeEffectDown="EffectDown"

[ScreenSelectExMusic]
Class="ScreenWithMenuElements"
Fallback="ScreenWithMenuElements"
NextScreen=Branch.PlayerOptions()
PrevScreen="ScreenSelectMusic"
ShowHeader=false;
ScreenOnCommand=SortByDrawOrder,true;SetDrawByZPosition,true;
#
CodeNames=SelectExMusicCode()
CodeLeft="+MenuLeft"
CodeLeft2="+Left"
CodeLeft3="+DownLeft"
CodeRight="+MenuRight"
CodeRight2="+Right"
CodeRight3="+DownRight"
CodeUp="MenuUp,MenuUp"
CodeUp2="Up,Up"
CodeUp3="UpLeft"
CodeDown="MenuDown,MenuDown"
CodeDown2="Down,Down"
CodeDown3="UpRight"
CodeStart="Start"
CodeBack="Back"
CodeBackRelease="~Back"
CodeCenter="Center"
#
TimerSeconds=999
#
ShowStageDisplay=true
StageDisplayX=THEME:GetMetric("ScreenSelectMusic","StageDisplayX")
StageDisplayY=THEME:GetMetric("ScreenSelectMusic","StageDisplayY")
StageDisplayOnCommand=skewx,-0.125;draworder,105;fov,90;zoom,0.675;zoomy,0;sleep,0.35;smooth,0.35;zoomy,0.675
StageDisplayOffCommand=linear,0.25;zoomy,0;
#
ShowBannerFrame=true
BannerFrameX=THEME:GetMetric("ScreenSelectMusic","BannerFrameX")
BannerFrameY=THEME:GetMetric("ScreenSelectMusic","BannerFrameY")

ShowBPMDisplay=true
BPMDisplayX=THEME:GetMetric("ScreenSelectMusic","BPMDisplayX")
BPMDisplayY=THEME:GetMetric("ScreenSelectMusic","BPMDisplayY")

ShowBPMLabel=true
BPMLabelX=THEME:GetMetric("ScreenSelectMusic","BPMLabelX")
BPMLabelY=THEME:GetMetric("ScreenSelectMusic","BPMLabelY")

ShowSongTime=true
SongTimeX=THEME:GetMetric("ScreenSelectMusic","SongTimeX")
SongTimeY=THEME:GetMetric("ScreenSelectMusic","SongTimeY")
ShowTimeLabel=true
TimeLabelOnCommand=visible,(TC_GetwaieiMode()==2);
TimeLabelX=THEME:GetMetric("ScreenSelectMusic","TimeLabelX")
TimeLabelY=THEME:GetMetric("ScreenSelectMusic","TimeLabelY")

ShowPaneDisplayFrameP1=false
#
ShowPaneDisplayTextP1=true
PaneDisplayTextP1X=THEME:GetMetric("ScreenSelectMusic","PaneDisplayTextP1X")
PaneDisplayTextP1Y=THEME:GetMetric("ScreenSelectMusic","PaneDisplayTextP1Y")
#PaneDisplayTextP1OnCommand=player,PLAYER_1;diffusealpha,0;addx,-340;linear,0.2;addx,340;diffusealpha,1;

ShowPaneDisplayFrameP2=false
#
ShowPaneDisplayTextP2=true
PaneDisplayTextP2X=THEME:GetMetric("ScreenSelectMusic","PaneDisplayTextP2X")
PaneDisplayTextP2Y=THEME:GetMetric("ScreenSelectMusic","PaneDisplayTextP2Y")
#PaneDisplayTextP2OnCommand=player,PLAYER_2;diffusealpha,0;addx,340;linear,0.2;addx,-340;diffusealpha,1;

ShowGrooveRadarP1=true
GrooveRadarP1X=THEME:GetMetric("ScreenSelectMusic","GrooveRadarP1X")
GrooveRadarP1Y=THEME:GetMetric("ScreenSelectMusic","GrooveRadarP1Y")
GrooveRadarP1OnCommand=zoom,((TC_GetwaieiMode()==2) and 0.8 or 1.1);
ShowGrooveRadarP2=true
GrooveRadarP2X=THEME:GetMetric("ScreenSelectMusic","GrooveRadarP2X")
GrooveRadarP2Y=THEME:GetMetric("ScreenSelectMusic","GrooveRadarP2Y")
GrooveRadarP2OnCommand=zoom,((TC_GetwaieiMode()==2) and 0.8 or 1.1);

ShowDifficultyList=false

[ScreenSelectCourse]
#
ShowDifficultyList=false
ShowCourseContentsList=false
ShowNumCourseSongs=true
#
UsePlayerSelectMenu=false
SelectMenuAvailable=false
#
ShowPaneDisplayFrameP1=false
ShowPaneDisplayTextP1=false
ShowPaneDisplayFrameP2=false
ShowPaneDisplayTextP2=false

[CourseCodeDetector]

[StepsDisplay]
FrameLoadCommand=%function(self,param) end;
NumTicks=10
MaxTicks=14
TicksX=0
TicksY=0
TicksOnCommand=shadowlength,0;
TicksSetCommand=%function(self,param) end;
MeterX=56-32
MeterY=0
MeterOnCommand=shadowlength,1;textglowmode,'TextGlowMode_Inner'
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
	if param.Meter then \
		if param.Meter >= 100 then \
			self:basezoom(0.8); \
			self:glowshift(); \
		elseif param.Meter >= 10 then \
			self:basezoom(1); \
			self:glowshift(); \
		else \
			self:basezoom(1); \
			self:stopeffect(); \
		end; \
	end; \
end;
#
ShowDescription=true
DescriptionX=-20-32
DescriptionY=GetUserPrefB("UserPrefAutoSetStyle") and -5 or 0
DescriptionOnCommand=shadowlength,1;uppercase,true;zoom,0.75;maxwidth,128+8
DescriptionSetCommand=%function(self,param) \
	if self:GetText() == "" then \
		self:settext("Edit"); \
	end; \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
end;
#
ShowAutogen=false
AutogenX=40-32
AutogenY=0
AutogenOnCommand=
AutogenSetCommand=%function(self,param) if param.Difficulty then self:diffuse(CustomDifficultyToLightColor(param.Difficulty)); self:strokecolor(CustomDifficultyToDarkColor(param.Difficulty)); end end
#
ShowStepsType=GetUserPrefB("UserPrefAutoSetStyle")
StepsTypeX=-20-32
StepsTypeY=7
StepsTypeOnCommand=zoom,0.45

[StepsDisplayGameplay]
Fallback="StepsDisplay"

#
ShowMeter=true
ZeroMeterString="?"
MeterX=56
MeterY=0
MeterOnCommand=shadowlength,1;textglowmode,'TextGlowMode_Inner'
MeterSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
	if param.Meter then \
		if param.Meter >= 100 then \
			self:zoom(0.8); \
		else \
			self:zoom(1); \
		end; \
	end; \
end;
#
ShowDescription=true
DescriptionX=-20
DescriptionY=GetUserPrefB("UserPrefAutoSetStyle") and -5 or 0
DescriptionOnCommand=shadowlength,1;uppercase,true;zoom,0.75;maxwidth,128+8
DescriptionSetCommand=%function(self,param) \
	if self:GetText() == "" then \
		self:settext("Edit"); \
	end; \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)); \
		self:shadowcolor(CustomDifficultyToDarkColor(param.CustomDifficulty)); \
	end; \
	(cmd(finishtweening;diffusealpha,0;addx,-4;smooth,0.125;addx,4;diffusealpha,1))(self); \
end;
#
ShowAutogen=false
AutogenX=40
AutogenY=0
AutogenOnCommand=
AutogenSetCommand=%function(self,param) if param.Difficulty then self:diffuse(CustomDifficultyToLightColor(param.Difficulty)); self:strokecolor(CustomDifficultyToDarkColor(param.Difficulty)); end end
#
ShowStepsType=GetUserPrefB("UserPrefAutoSetStyle")
StepsTypeX=-20
StepsTypeY=7
StepsTypeOnCommand=zoom,0.45

[ScreenOptions]
DisqualifyP1X=SCREEN_CENTER_X-176
DisqualifyP1Y=SCREEN_BOTTOM-98
DisqualifyP1OnCommand=draworder,100;zoom,0.5;shadowlength,1;player,PLAYER_1
DisqualifyP2X=SCREEN_CENTER_X+176
DisqualifyP2Y=SCREEN_BOTTOM-98
DisqualifyP2OnCommand=draworder,100;zoom,0.5;shadowlength,1;player,PLAYER_2


ExplanationP1OnCommand=shadowlength,1;wrapwidthpixels,256/0.5;zoom,0.5;halign,0;cropright,1;linear,0.5;cropright,0
ExplanationP2OnCommand=shadowlength,1;wrapwidthpixels,256/0.5;zoom,0.5;halign,1;cropright,1;linear,0.5;cropright,0

ExplanationTogetherOnCommand=shadowlength,0;zoom,0.6;wrapwidthpixels,(SCREEN_WIDTH*0.9375);cropright,1;linear,0.5;cropright,0

ContainerOnCommand=x,-SCREEN_WIDTH;decelerate,0.35;x,SCREEN_LEFT
CursorOnCommand=

LineHighlightOnCommand=cropleft,0.1;cropright,0.1;zoomx,1.25;fadeleft,0.05;faderight,0.05;diffuseshift;effectcolor2,color("1,1,1,0.5");effectcolor1,color("1,1,1,0.25");effectclock,'beat'
LineHighlightChangeCommand=linear,0.1;diffuse,Color("White");diffuseshift;effectcolor2,color("1,1,1,0.5");effectcolor1,color("1,1,1,0.25")
LineHighlightChangeToExitCommand=linear,0.1;diffuse,Color("Red");diffuseshift;effectcolor2,color("1,0,0,0.5");effectcolor1,color("1,0,0,0.25")

[ScreenOptionsMaster]
Remove="8;selectmultiple"
RemoveDefault="mod,no little,no nojumps,no nohands,no noquads,no nostretch,no norolls,no nolifts,no nofakes"
Remove,1="mod,little;name,Little"
Remove,2="mod,nojumps;name,NoJumps"
Remove,3="mod,nohands;name,NoHands"
Remove,4="mod,noquads;name,NoQuads"
Remove,5="mod,nostretch;name,NoStretch"
Remove,6="mod,norolls;name,NoRolls"
Remove,7="mod,nolifts;name,NoLifts"
Remove,8="mod,nofakes;name,NoFakes"

[ScreenOptionsSimple]

[ScreenOptionsSimpleService]

[ScreenOptionsService]
ShowHeader=false

# ScreenOptionsSystemDirection"
LineNames="Sync,GameType,KeyConfig,TestInput,Input,Reload,Arcade,Appearance,GraphicSound,Profiles,Network,UI,Advanced,Combo,_w_System,_w_Design"
LineSync="gamecommand;screen,ScreenGameplaySyncMachine;name,Calibrate Machine Sync"
LineGameType="gamecommand;screen,ScreenSelectGame;name,Select Game"
LineKeyConfig="gamecommand;screen,ScreenMapControllers;name,Key Joy Mappings"
LineTestInput="gamecommand;screen,ScreenTestInput;name,Test Input"
LineInput="gamecommand;screen,ScreenOptionsInput;name,Input Options"
LineReload="gamecommand;screen,ScreenReloadSongs;name,Reload Songs"
LineArcade="gamecommand;screen,ScreenOptionsArcade;name,Arcade Options"
LineAppearance="gamecommand;screen,ScreenAppearanceOptions;name,Appearance Options"
LineGraphicSound="gamecommand;screen,ScreenOptionsGraphicsSound;name,Graphics/Sound Options"
LineProfiles="gamecommand;screen,ScreenOptionsManageProfiles;name,Profiles"
LineNetwork="gamecommand;screen,ScreenNetworkOptions;name,Network Options"
LineUI="gamecommand;screen,ScreenOptionsUI;name,UI Options"
LineAdvanced="gamecommand;screen,ScreenOptionsAdvanced;name,Advanced Options"
LineMoreOptions="gamecommand;screen,ScreenOptionsExtended;name,More Options"
LineTheme="gamecommand;screen,ScreenOptionsTheme;name,Theme Options"
Line_w_System="gamecommand;screen,ScreenOptions_waieiSystem;name,waiei SystemOptions"
Line_w_Design="gamecommand;screen,ScreenOptions_waieiDesign;name,waiei DesignOptions"
LineCombo="gamecommand;screen,ScreenOptionsCombo;name,Combo Options"
LineThemeColor="gamecommand;screen,ScreenCustomTitle1;name,waiei Theme Color Options"
LineCredits="gamecommand;screen,ScreenCredits;name,StepMania Credits"
LineWelcome="gamecommand;screen,ScreenWelcomewaiei;name,Welcome waiei"

NumRowsShown=14
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-170+24*offsetFromCenter) end

SeparateExitRow=false
SeparateExitRowY=SCREEN_BOTTOM-40

NextScreen=Branch_Theme.Welcomewaiei();
PrevScreen=Branch_Theme.Welcomewaiei();

[ScreenOptionsExtended]
LineNames="2,Sync,3,10,11,4,12,5,Theme"

[ScreenOptionsServiceChild]

[ScreenOptionsServiceExtendedChild]

[ScreenMiniMenu]
HeaderY=SCREEN_TOP
HeaderOnCommand=draworder,100;visible,false
LineHighlightOnCommand=cropleft,0.1;cropright,0.1;zoomx,1.3;fadeleft,0.25;faderight,0.25;diffusealpha,0.375
LineHighlightChangeCommand=
LineHighlightChangeToExitCommand=

[OptionRowMiniMenu]
Fallback="OptionRow"
TitleX=SCREEN_CENTER_X-320+48
TitleOnCommand=horizalign,left;shadowlength,0;uppercase,true;zoom,0.6375;strokecolor,Color("Black");
ItemsLongRowP1X=SCREEN_CENTER_X-240
ItemsLongRowP2X=SCREEN_CENTER_X+240
ItemsLongRowSharedX=SCREEN_CENTER_X+200
ItemOnCommand=zoom,0.6375

ColorSelected=color("1,1,1,1")
ColorNotSelected=color("0.5,0.5,0.5,1")

[ScreenMiniMenuContext]
PageOnCommand=visible,false
LineHighlightX=SCREEN_CENTER_X/2

TitleX=SCREEN_CENTER_X
TitleOnCommand=shadowlength,1;
ItemsStartX=SCREEN_CENTER_X
ItemsEndX=SCREEN_CENTER_X
ItemsGapX=14
ItemsLongRowP1X=SCREEN_CENTER_X
ItemsLongRowP2X=SCREEN_CENTER_X
ItemsLongRowSharedX=SCREEN_CENTER_X

[OptionRowMiniMenuContext]

[ScreenMapControllers]
ScreenOnCommand=%function(self) MESSAGEMAN:Broadcast("KeyConfigRequestStall"); self:lockinput(5); end;

DevicesOnCommand=zoom,0.5;draworder,5;strokecolor,color("0,0,0,1")
ButtonsToMap=Left,Right,Up,Down,UpLeft,UpRight,Start,Select,Back,Coin,Operator,EffectUp,EffectDown,MenuLeft,MenuRight,MenuUp,MenuDown

MappedToOnCommand=diffuse,color("#808080");shadowlength,0;maxwidth,100;zoom,0.66;strokecolor,Color("Black")
MappedToWaitingCommand=diffuse,color("#FF8080");pulse;effectperiod,0.5;effectmagnitude,0.8,1.3,0;strokecolor,Color("Black")
MappedToMappedInputCommand=diffuse,color("#808080");diffuseshift;effectcolor2,color("#808080");effectcolor1,color("#FFFF00");strokecolor,Color("Black");
MappedToGainFocusCommand=diffuse,color("#808080");diffuseshift;effectcolor2,color("#808080");effectcolor1,color("#FFFF00");strokecolor,Color("Black");
MappedToLoseFocusCommand=diffuse,color("#808080");strokecolor,Color("Black");stopeffect
LabelP1OnCommand=x,SCREEN_CENTER_X*0.4;zoom,0.7;strokecolor,Color("Black");diffuse,PlayerColor(PLAYER_1);
LabelP2OnCommand=x,SCREEN_CENTER_X*1.6;zoom,0.7;strokecolor,Color("Black");diffuse,ColorLightTone(PlayerColor(PLAYER_2));
PrimaryOnCommand=x,SCREEN_CENTER_X;y,-6;zoom,0.7;strokecolor,Color("Black");ztest,true
SecondaryOnCommand=x,SCREEN_CENTER_X;y,6;zoom,0.5;strokecolor,Color("Black");ztest,true

[ScreenTestInput]

[ScreenOptionsSystemDirection]
LineNames="1,2,3,4,5,6,7,8,9,FlashyCombo,RollCombo,10,11,12,13,14,16,LF,17,18,19,20,21,22"
LineLF="lua,UserPrefLongFail()"
LineRollCombo="lua,UserPrefComboOnRolls()"
LineFlashyCombo="lua,UserPrefFlashyCombo()"

[ScreenOptionsGraphicsSound]

[ScreenOptionsAdvanced]
LineNames="3,4,8,11,13,14,16,28,29,30"

[ScreenAppearanceOptions]

[ScreenOptionsUI]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames="1,3,4,6,11,12,14"
Line1="conf,Center1Player"
Line3="conf,DancePointsForOni"
Line4="conf,MenuTimer"
Line6="conf,MusicWheelUsesSections"
Line11="conf,ShowLyrics"
Line12="conf,ShowNativeLanguage"
Line14="conf,ShowSongOptions"

[ScreenOptionsInput]

[ScreenOptionsArcade]
LineNames=(GetSMVersion()<20) and "1,2,3,4,5,6" or "1,2,3,5,6"

[ScreenOptionsTheme]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
#LineNames="gNotePos,gScore,gSDisp,TimingDisplay,gOpts,gLongFail,gComboUnderField,FlashyCombo,GameplayFooter,FancyUIBG"
LineNames="gAuto,gComboUnderField,FlashyCombo"
LinegNotePos="lua,NotePosition()"
LinegScore="lua,ThemePrefRow('GameplayShowScore')"
LinegSDisp="lua,ThemePrefRow('GameplayShowStepsDisplay')"
LineTimingDisplay="lua,ThemePrefRow('TimingDisplay')"
LinegOpts="lua,ThemePrefRow('ShowLotsaOptions')"
LinegAuto="lua,AutoSetStyle()"
LinegLongFail="lua,LongFail()"
LinegComboUnderField="lua,ComboUnderField()"
LineFlashyCombo="lua,FlashyCombos()"
LineGameplayFooter="lua,ThemePrefRow('GameplayFooter')"
LineFancyUIBG="lua,ThemePrefRow('FancyUIBG')"

[ScreenSelectGame]

[ScreenNetworkOptions]

[ScreenOptionsManageProfiles]

[ScreenOptionsEditProfile]

[ScreenReloadSongs]

[ScreenPlayerOptions]
NextScreen=Branch_Theme.SongOptions()
LineNames=List_PlayerOptions()
Line3A="list,EffectsReceptor"
Line3B="list,EffectsArrow"
LineYA="lua,UserwaieiPlayerOptions()"
LineR="list,Remove"
LineR1="list,RemoveCombinations"
LineR2="list,RemoveFeatures"
LineSF="lua,UserScreenFilter()"
LineSA="lua,UserSpeedAssist()"
Line17="lua,OptionRowProTiming()"
Line18="list,Characters"
LineST="lua,UserTarget()"
LineSC="lua,UserShowCalories()"
LineDF="lua,UserPlayDifficulty()"
LineNN="lua,newskin_option_row()";

[ScreenDrillOptions]
PlayMusic=true
StopMusicOnBack=true
ShowHelp=false
Fallback="ScreenOptions"
Class="ScreenPlayerOptions"
PrevScreen=getenv("DrillOptions_Return")
NextScreen=getenv("DrillOptions_Return")
LineNames=List_DrillOptions()
Line8="list,NoteSkins"
LineSF="lua,UserScreenFilter()"
Line17="lua,OptionRowProTiming()"
Line18="list,Characters"
LineST="lua,UserTarget()"
LineSC="lua,UserShowCalories()"

[ScreenSongOptions]
LineNames=List_SongOptions()

[ScreenPlayerOptionsRestricted]

[ScreenSplash]

[ScreenExit]

[ScreenAttract]

#
#
#
#

[ScreenRanking]
#

#

#
[ScreenStageInformation]
CodeNames="LyricEgg,LyricEgg2=LyricEgg,UltimateLife"
CodeLyricEgg="Up,Up,Left,Right,Down"
CodeLyricEgg2="MenuUp,MenuUp,MenuLeft,MenuRight,MenuDown"
CodeUltimateLife="+Select"
WaitForChildrenBeforeTweeningOut=true
TimerSeconds=0.1+((TC_GetwaieiMode()==1) and 0.9 or 0)
ScreenBeginCommand=


#

#

# 05 # B

# 05 # C
[ScreenGameplay]
CodeNames=GameplayCode()
CodeScrollNomal="@Select-MenuUp"
CodeScrollReverse="@Select-MenuDown"
CodeHiSpeedUp="@Select-MenuRight"
CodeHiSpeedDown="@Select-MenuLeft"
CodeScrollNomal2="@Select-Up"
CodeScrollReverse2="@Select-Down"
CodeHiSpeedUp2="@Select-Right"
CodeHiSpeedDown2="@Select-Left"
CodeScrollNomal3="@Select-UpLeft"
CodeScrollReverse3="@Select-UpRight"
CodeHiSpeedUp3="@Select-DownRight"
CodeHiSpeedDown3="@Select-DownLeft"
CodeScrollPIUNomal="@Select-EffectUp"
CodeScrollPIUReverse="@Select-EffectDown"
MinSecondsToStep=1.0;
MinSecondsToMusic=GetwaieiInfo("BGStart");
MinSecondsToStepNextSong=2.0
OutTransitionLength=TC_GetMetric('Wait','GameplayOut')
ShowLifeMeterBarP1=GAMESTATE:IsPlayerEnabled(PLAYER_1);
# LifeMeterBarP1X=THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
LifeMeterBarP1X=SCREEN_CENTER_X-SCREEN_WIDTH/4+SCREEN_WIDTH/100;
LifeMeterBarP1Y=SCREEN_TOP+28
LifeMeterBarP1OnCommand=addx,-60;sleep,1.0;linear,0.25;addx,60;
LifeMeterBarP1OffCommand=sleep,0.5;linear,0.25;addx,-60;

ShowLifeMeterBarP2=GAMESTATE:IsPlayerEnabled(PLAYER_2);
# LifeMeterBarP2X=THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")
LifeMeterBarP2X=SCREEN_CENTER_X+SCREEN_WIDTH/4-SCREEN_WIDTH/100;
LifeMeterBarP2Y=SCREEN_TOP+28
LifeMeterBarP2OnCommand=rotationy,180;addx,60;sleep,1.0;linear,0.25;addx,-60;
LifeMeterBarP2OffCommand=sleep,0.5;linear,0.25;addx,60;

#
SongMeterDisplayX=SCREEN_CENTER_X
SongMeterDisplayY=SCREEN_TOP+50
SongMeterDisplayOnCommand=draworder,50;zoom,0;y,SCREEN_TOP-24;sleep,1.5;decelerate,0.5;zoom,1;y,SCREEN_TOP+50
SongMeterDisplayOffCommand=
#
ShowSongTitle=true
SongTitleX=SCREEN_CENTER_X
SongTitleY=SCREEN_BOTTOM-56
#SongTitleOnCommand=
SongTitleOffCommand=linear,0.2;zoomx,1;zoomy,0;diffusealpha,0
#
SongMeterDisplayP1X=Center1Player() and SCREEN_CENTER_X or SCREEN_LEFT+16
SongMeterDisplayP1Y=Center1Player() and SCREEN_TOP+60 or SCREEN_CENTER_Y
SongMeterDisplayP1OnCommand=draworder,5;rotationz,Center1Player() and 0 or -90;zoomx,0;zoomy,0;addx,-24;sleep,1.5;decelerate,0.5;zoomx,0.8;zoomy,1;addx,24;diffusealpha,0;
SongMeterDisplayP1OffCommand=
#
SongMeterDisplayP2X=Center1Player() and SCREEN_CENTER_X or SCREEN_RIGHT-16
SongMeterDisplayP2Y=Center1Player() and SCREEN_TOP+60 or SCREEN_CENTER_Y
SongMeterDisplayP2OnCommand=draworder,5;rotationz,Center1Player() and 0 or -90;zoomx,0;zoomy,0;addx,24;sleep,1.5;decelerate,0.5;zoomx,0.8;zoomy,1;addx,-24;diffusealpha,0;
SongMeterDisplayP2OffCommand=
#
ShowBPMDisplay=true
BPMDisplayX=SCREEN_CENTER_X
# BPMDisplayX=(PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1) and (GAMESTATE:GetMasterPlayerNumber() == PLAYER_1 and THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX") or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")) or SCREEN_CENTER_X
BPMDisplayY=SCREEN_BOTTOM-((TC_GetwaieiMode()==2) and 32 or 30)
BPMDisplayOnCommand=draworder,101;zoomx,2;zoomy,0;sleep,1.0;linear,0.2;zoomx,1;zoomy,1;
BPMDisplayOffCommand=bounceend,0.25;zoom,0
#
ShowStageDisplay=not GAMESTATE:IsCourseMode()
StageDisplayX=SCREEN_CENTER_X
StageDisplayY=SCREEN_TOP+((TC_GetwaieiMode()==2) and 28 or 34)
StageDisplayOnCommand=zoom,0.675;
StageDisplayOffCommand=bounceend,0.25;zoom,0
#
LifeP1X=Center1Player() and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
# LifeP1X=(GAMESTATE:GetCurrentStyle():GetStyleType() == 'StyleType_OnePlayerTwoSides' or (PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1)) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
LifeP1Y=SCREEN_TOP+34
LifeP1OnCommand=visible,0;finishtweening;addy,-48;sleep,1.25;bounceend,0.35;addy,48;
#~ LifeP1OnCommand=addx,-SCREEN_CENTER_X;sleep,1.25;decelerate,0.35*0.25;addx,SCREEN_CENTER_X*1.5;accelerate,0.35*0.25;addx,-SCREEN_CENTER_X*0.25;bounceend,0.35*0.25;addx,-SCREEN_CENTER_X*0.25
LifeP1OffCommand=
LifeP2X=Center1Player() and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")
# LifeP2X=(GAMESTATE:GetCurrentStyle():GetStyleType() == 'StyleType_OnePlayerTwoSides' or (PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1)) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")
LifeP2Y=SCREEN_TOP+34
LifeP2OnCommand=visible,0;finishtweening;zoomx,-1;addy,-48;sleep,1.25;bounceend,0.35;addy,48;
#~ LifeP2OnCommand=zoomx,-1;addx,SCREEN_CENTER_X;sleep,1.25;decelerate,0.35*0.25;addx,-SCREEN_CENTER_X*1.5;accelerate,0.35*0.25;addx,SCREEN_CENTER_X*0.25;bounceend,0.35*0.25;addx,SCREEN_CENTER_X*0.25
LifeP2OffCommand=
CombinedLifeX=SCREEN_CENTER_X
CombinedLifeY=SCREEN_TOP+58
CombinedLifeOnCommand=finishtweening;diffuseleftedge,PlayerColor(PLAYER_1);diffuserightedge,PlayerColor(PLAYER_2);zoomx,0;zoomy,0;sleep,1.25;bounceend,0.35;zoomx,1;zoomy,0.5;
CombinedLifeOffCommand=
#
ToastyDisplayP1X=Center1Player() and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
# ToastyDisplayP1X=(GAMESTATE:GetCurrentStyle():GetStyleType() == 'StyleType_OnePlayerTwoSides' or (PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1)) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
ToastyDisplayP1Y=SCREEN_CENTER_Y
ToastyDisplayP1OnCommand=visible,false
ToastyDisplayP1OffCommand=
#
ToastyDisplayP2X=Center1Player() and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")
# ToastyDisplayP2X=(GAMESTATE:GetCurrentStyle():GetStyleType() == 'StyleType_OnePlayerTwoSides' or (PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1)) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")
ToastyDisplayP2Y=SCREEN_CENTER_Y
ToastyDisplayP2OnCommand=visible,false
ToastyDisplayP2OffCommand=
#
SongNumberP1X=Center1Player() and SCREEN_CENTER_X - 60 or THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX") - 60
SongNumberP1Y=SCREEN_TOP+24+7
SongNumberP1OnCommand=zoom,0.75;diffuse,PlayerColor(PLAYER_1);strokecolor,BoostColor(PlayerColor(PLAYER_1),0.5)
SongNumberP1OffCommand=
SongNumberP2X=Center1Player() and SCREEN_CENTER_X + 60 or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX") + 60
SongNumberP2Y=SCREEN_TOP+24+7
SongNumberP2OnCommand=zoom,0.75;diffuse,PlayerColor(PLAYER_2);strokecolor,BoostColor(PlayerColor(PLAYER_2),0.5)
SongNumberP2OffCommand=
#
RemainingTimeP1X=THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX") + 32
RemainingTimeP1Y=THEME:GetMetric(Var "LoadingScreen","ScoreP1Y") - 22
RemainingTimeP1OnCommand=shadowlength,1;diffuse,PlayerColor(PLAYER_1);diffusebottomedge,ColorMidTone(PlayerColor(PLAYER_1));
RemainingTimeP1OffCommand=
RemainingTimeP2X=THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX") + 32
RemainingTimeP2Y=THEME:GetMetric(Var "LoadingScreen","ScoreP2Y") - 22
RemainingTimeP2OnCommand=shadowlength,1;diffuse,PlayerColor(PLAYER_2);diffusebottomedge,ColorMidTone(PlayerColor(PLAYER_2));
RemainingTimeP2OffCommand=
#
DeltaSecondsP1X=THEME:GetMetric(Var "LoadingScreen","RemainingTimeP1X") - 80
DeltaSecondsP1Y=THEME:GetMetric(Var "LoadingScreen","RemainingTimeP1Y")
DeltaSecondsP1OnCommand=shadowlength,1;skewx,-0.125
DeltaSecondsP1GainSecondsCommand=finishtweening;diffusealpha,1;zoom,1;decelerate,0.3;zoom,0.75;sleep,0.5;linear,0.2;diffusealpha,0;zoom,0
DeltaSecondsP1OffCommand=
DeltaSecondsP2X=THEME:GetMetric(Var "LoadingScreen","RemainingTimeP2X") - 80
DeltaSecondsP2Y=THEME:GetMetric(Var "LoadingScreen","RemainingTimeP2Y")
DeltaSecondsP2OnCommand=shadowlength,1;skewx,-0.125
DeltaSecondsP2GainSecondsCommand=finishtweening;diffusealpha,1;zoom,1;decelerate,0.3;zoom,0.75;sleep,0.5;linear,0.2;diffusealpha,0;zoom,0
DeltaSecondsP2OffCommand=
#
ShowScoreP1=true
ScoreP1X=0
ScoreP1Y=0
ScoreP1OnCommand=visible,false;
ScoreP1OffCommand=
ShowScoreP2=true
ScoreP2X=0
ScoreP2Y=0
ScoreP2OnCommand=visible,false;
ScoreP2OffCommand=
#
ShowScoreFrameP1=not (GetCustomScoreMode()=="non" and GAMESTATE:GetPlayMode()=='PlayMode_Regular' and not PREFSMAN:GetPreference("PercentageScoring"))
ScoreFrameP1X=THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")-20;
ScoreFrameP1Y=(GetCustomScoreMode()=="non" and GAMESTATE:GetPlayMode()=='PlayMode_Regular' and not PREFSMAN:GetPreference("PercentageScoring")) and SCREEN_BOTTOM+1000 or SCREEN_BOTTOM-33;
ScoreFrameP1OnCommand=draworder,100;player,PLAYER_1;zoomy,0;sleep,0.5;linear,0.2;zoomy,1.0;
ShowScoreFrameP2=not (GetCustomScoreMode()=="non" and GAMESTATE:GetPlayMode()=='PlayMode_Regular' and not PREFSMAN:GetPreference("PercentageScoring"))
ScoreFrameP2X=THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")+20;
ScoreFrameP2Y=(GetCustomScoreMode()=="non" and GAMESTATE:GetPlayMode()=='PlayMode_Regular' and not PREFSMAN:GetPreference("PercentageScoring")) and SCREEN_BOTTOM+1000 or SCREEN_BOTTOM-33;
ScoreFrameP2OnCommand=draworder,100;player,PLAYER_2;zoomy,0;sleep,0.5;linear,0.2;zoomy,1.0;

ShowB2ScoreP1=false
B2ScoreP1X=THEME:GetMetric(Var "ScreenGameplay","ScoreFrameP1X")
B2ScoreP1Y=THEME:GetMetric(Var "ScreenGameplay","ScoreFrameP1Y")
B2ScoreP1OnCommand=draworder,101;player,PLAYER_1;
B2ScoreP1OffCommand=
ShowB2ScoreP2=true
B2ScoreP2X=THEME:GetMetric(Var "ScreenGameplay","ScoreFrameP2X")
B2ScoreP2Y=THEME:GetMetric(Var "ScreenGameplay","ScoreFrameP2Y")
B2ScoreP2OnCommand=draworder,101;player,PLAYER_2;
B2ScoreP2OffCommand=
#
StepsDescriptionP1X=0
StepsDescriptionP1Y=SCREEN_BOTTOM+100;
StepsDescriptionP1OnCommand=visible,false;
StepsDescriptionP1OffCommand=
StepsDescriptionP2X=0
StepsDescriptionP2Y=SCREEN_BOTTOM+100;
StepsDescriptionP2OnCommand=visible,false;
StepsDescriptionP2OffCommand=
#
PlayerOptionsP1X=Center1Player() and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
# PlayerOptionsP1X=(PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
PlayerOptionsP1Y=(not IsReverse(PLAYER_1)) and SCREEN_CENTER_Y-110 or SCREEN_CENTER_Y+90
PlayerOptionsP1OnCommand=draworder,101;strokecolor,Color("Outline");vertalign,top;wrapwidthpixels,256*2;zoom,0.5;diffusealpha,0;addy,10;smooth,0.3;diffusealpha,1;addy,-10;sleep,3;smooth,0.5;addy,10;diffusealpha,0
PlayerOptionsP1OffCommand=
PlayerOptionsP2X=Center1Player() and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")
# PlayerOptionsP2X=(PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1) and SCREEN_CENTER_X or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")
PlayerOptionsP2Y=(not IsReverse(PLAYER_2)) and SCREEN_CENTER_Y-110 or SCREEN_CENTER_Y+90
PlayerOptionsP2OnCommand=draworder,101;strokecolor,Color("Outline");vertalign,top;wrapwidthpixels,256*2;zoom,0.5;diffusealpha,0;addy,10;smooth,0.3;diffusealpha,1;addy,-10;sleep,3;smooth,0.5;addy,10;diffusealpha,0
PlayerOptionsP2OffCommand=
#
StepsDisplayP1X=0
StepsDisplayP1Y=SCREEN_BOTTOM+100;
StepsDisplayP1OnCommand=visible,false
StepsDisplayP1ShowCommand=
StepsDisplayP1HideCommand=
StepsDisplayP1OffCommand=
StepsDisplayP2X=0
StepsDisplayP2Y=SCREEN_BOTTOM+100;
StepsDisplayP2OnCommand=visible,false
StepsDisplayP2ShowCommand=
StepsDisplayP2HideCommand=
StepsDisplayP2OffCommand=
#
SongOptionsX=Center1Player() and (GAMESTATE:GetMasterPlayerNumber() == PLAYER_1 and THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX") or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")) or SCREEN_CENTER_X
# SongOptionsX=(PREFSMAN:GetPreference("Center1Player") and GAMESTATE:GetNumPlayersEnabled() == 1) and (GAMESTATE:GetMasterPlayerNumber() == PLAYER_1 and THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX") or THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")) or SCREEN_CENTER_X
SongOptionsY=SCREEN_BOTTOM-42
SongOptionsOnCommand=draworder,101;zoomx,2;zoomy,0;sleep,GetGameWaitTime(_SONG2())+0.5;linear,0.2;zoomx,0.5;zoomy,0.5;
SongOptionsOffCommand=
#
SongNumberFormat="St.%d"
SongNumberP1X=((GAMESTATE:IsPlayerEnabled(PLAYER_2)) and SCREEN_CENTER_X-20 or SCREEN_CENTER_X);
SongNumberP1Y=SCREEN_TOP+36
SongNumberP1OnCommand=zoom,((GAMESTATE:IsPlayerEnabled(PLAYER_2)) and 0.5 or 0.675);diffuse,BoostColor(PlayerColor(PLAYER_1),1.5);strokecolor,Color("Outline");
SongNumberP1OffCommand=
SongNumberP2X=((GAMESTATE:IsPlayerEnabled(PLAYER_1)) and SCREEN_CENTER_X+20 or SCREEN_CENTER_X);
SongNumberP2Y=SCREEN_TOP+36
SongNumberP2OnCommand=zoom,((GAMESTATE:IsPlayerEnabled(PLAYER_1)) and 0.5 or 0.675);diffuse,BoostColor(PlayerColor(PLAYER_2),1.5);strokecolor,Color("Outline");
SongNumberP2OffCommand=
#
LyricDisplaySetNoReverseCommand=x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y+140
LyricDisplaySetReverseCommand=x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y-140
# This is used if one player is in reverse and the other isn't.
LyricDisplaySetOneReverseCommand=x,SCREEN_CENTER_X;y,SCREEN_CENTER_Y;
LyricDisplayDefaultColor=Color("White")
#
OniGameOverP1X=
OniGameOverP1Y=
OniGameOverP1OnCommand=
OniGameOverP1OffCommand=
#
OniGameOverP2X=
OniGameOverP2Y=
OniGameOverP2OnCommand=
OniGameOverP2OffCommand=
#
SurviveTimeX=SCREEN_CENTER_X
SurviveTimeY=SCREEN_CENTER_Y+40
SurviveTimeOnCommand=shadowlength,1;zoomx,0;bounceend,1;zoomx,1
SurviveTimeOffCommand=shadowlength,1;linear,1;zoom,0.75;diffusealpha,0
#
ActiveAttackListP1X=THEME:GetMetric(Var "LoadingScreen","PlayerP1OnePlayerOneSideX")
ActiveAttackListP1Y=
ActiveAttackListP1OnCommand=visible,false
ActiveAttackListP1OffCommand=
ActiveAttackListP2X=THEME:GetMetric(Var "LoadingScreen","PlayerP2OnePlayerOneSideX")
ActiveAttackListP2Y=
ActiveAttackListP2OnCommand=visible,false
ActiveAttackListP2OffCommand=
#
PlayerP1OnePlayerOneSideX=((SCREEN_HEIGHT/SCREEN_WIDTH>0.7) and math.floor(scale((0.75/3),0,1,SCREEN_LEFT,SCREEN_RIGHT)) or math.floor(scale((0.85/3),0,1,SCREEN_LEFT,SCREEN_RIGHT)))
PlayerP2OnePlayerOneSideX=((SCREEN_HEIGHT/SCREEN_WIDTH>0.7) and math.floor(scale((2.25/3),0,1,SCREEN_LEFT,SCREEN_RIGHT)) or math.floor(scale((2.15/3),0,1,SCREEN_LEFT,SCREEN_RIGHT)))
PlayerP1TwoPlayersTwoSidesX=((SCREEN_HEIGHT/SCREEN_WIDTH>0.7) and math.floor(scale((0.75/3),0,1,SCREEN_LEFT,SCREEN_RIGHT)) or math.floor(scale((0.85/3),0,1,SCREEN_LEFT,SCREEN_RIGHT)))
PlayerP2TwoPlayersTwoSidesX=((SCREEN_HEIGHT/SCREEN_WIDTH>0.7) and math.floor(scale((2.25/3),0,1,SCREEN_LEFT,SCREEN_RIGHT)) or math.floor(scale((2.15/3),0,1,SCREEN_LEFT,SCREEN_RIGHT)))

[ScreenGameplayShared]

[ScreenEvaluation]
Class="ScreenEvaluation"
Fallback="ScreenWithMenuElements"
CodeNames=EvaluationNormalCode()
CodeSwitchSongTitle="+Left"
CodeSwitchSongTitle2="+Right"
CodeSwitchSongTitle3="+MenuLeft"
CodeSwitchSongTitle4="+MenuRight"
CodeSwitchSongTitle5="+DownLeft"
CodeSwitchSongTitle6="+DownRight"
CodeShowPopup="MenuDown"
CodeShowPopup2="Down"
CodeShowPopup3="UpRight"
CodeTweet="MenuUp"
CodeTweet2="Up"
#
StageDisplayNumberOffset=0
#
NextScreen="ScreenProfileSave"
PrevScreen="ScreenProfileSave"
#
PlayMusic=false
#
PrepareScreens="ScreenProfileSave,ScreenSelectMusic"
PersistScreens="ScreenEvaluation,ScreenProfileSave,ScreenSelectMusic"
#
ShowJudgmentLineW1=true
ShowJudgmentLineW2=true
ShowJudgmentLineW3=true
ShowJudgmentLineW4=true
ShowJudgmentLineW5=true
#ShowJudgmentLineHeld=(GAMESTATE:GetCurrentGame():GetName() ~= "pump")
ShowJudgmentLineHeld=true
ShowJudgmentLineMiss=true
ShowJudgmentLineMaxCombo=true
ShowGradeArea=true
ShowScoreArea=true
ShowPointsArea=true
ShowSharedJudgmentLineLabels=true
ShowGraphDisplay=true
ShowComboGraph=true
ShowStepsDisplay=true

#
W1NumberP1X=SCREEN_CENTER_X-160+20
W1NumberP1Y=SCREEN_TOP+88
W1NumberP1OnCommand=zoomy,0.8;diffuse,PlayerColor(PLAYER_1);diffusetopedge,BoostColor(PlayerColor(PLAYER_1),1.5);strokecolor,ColorDarkTone( PlayerColor(PLAYER_1) );shadowlength,1
W1NumberP1OffCommand=
W1NumberP2X=SCREEN_CENTER_X+160-20
W1NumberP2Y=THEME:GetMetric("ScreenEvaluation","W1NumberP1Y")
W1NumberP2OnCommand=zoomy,0.8;diffuse,PlayerColor(PLAYER_2);diffusetopedge,BoostColor(PlayerColor(PLAYER_2),1.5);strokecolor,ColorDarkTone( PlayerColor(PLAYER_2) );shadowlength,1
W1NumberP2OffCommand=
W1LabelX=SCREEN_CENTER_X
W1LabelY=SCREEN_TOP+80
W1LabelOnCommand=visible,false
W1LabelOffCommand=
#
W2NumberP1X=SCREEN_CENTER_X-160+20
W2NumberP1Y=THEME:GetMetric("ScreenEvaluation","W1NumberP1Y")+30
W2NumberP1OnCommand=zoomy,0.8;diffuse,PlayerColor(PLAYER_1);diffusetopedge,BoostColor(PlayerColor(PLAYER_1),1.5);strokecolor,ColorDarkTone( PlayerColor(PLAYER_1) );shadowlength,1
W2NumberP1OffCommand=
W2NumberP2X=SCREEN_CENTER_X+160-20
W2NumberP2Y=THEME:GetMetric("ScreenEvaluation","W2NumberP1Y")
W2NumberP2OnCommand=zoomy,0.8;diffuse,PlayerColor(PLAYER_2);diffusetopedge,BoostColor(PlayerColor(PLAYER_2),1.5);strokecolor,ColorDarkTone( PlayerColor(PLAYER_2) );shadowlength,1
W2NumberP2OffCommand=
W2LabelX=SCREEN_CENTER_X
W2LabelY=SCREEN_TOP+100
W2LabelOnCommand=visible,false
W2LabelOffCommand=
#
W3NumberP1X=SCREEN_CENTER_X-160+20
W3NumberP1Y=THEME:GetMetric("ScreenEvaluation","W1NumberP1Y")+60
W3NumberP1OnCommand=zoomy,0.8;diffuse,PlayerColor(PLAYER_1);diffusetopedge,BoostColor(PlayerColor(PLAYER_1),1.5);strokecolor,ColorDarkTone( PlayerColor(PLAYER_1) );shadowlength,1
W3NumberP1OffCommand=
W3NumberP2X=SCREEN_CENTER_X+160-20
W3NumberP2Y=THEME:GetMetric("ScreenEvaluation","W3NumberP1Y")
W3NumberP2OnCommand=zoomy,0.8;diffuse,PlayerColor(PLAYER_2);diffusetopedge,BoostColor(PlayerColor(PLAYER_2),1.5);strokecolor,ColorDarkTone( PlayerColor(PLAYER_2) );shadowlength,1
W3NumberP2OffCommand=
W3LabelX=SCREEN_CENTER_X
W3LabelY=SCREEN_TOP+120
W3LabelOnCommand=visible,false
W3LabelOffCommand=
#
W4NumberP1X=SCREEN_CENTER_X-160+20
W4NumberP1Y=THEME:GetMetric("ScreenEvaluation","W1NumberP1Y")+90
W4NumberP1OnCommand=zoomy,0.8;diffuse,PlayerColor(PLAYER_1);diffusetopedge,BoostColor(PlayerColor(PLAYER_1),1.5);strokecolor,ColorDarkTone( PlayerColor(PLAYER_1) );shadowlength,1
W4NumberP1OffCommand=
W4NumberP2X=SCREEN_CENTER_X+160-20
W4NumberP2Y=THEME:GetMetric("ScreenEvaluation","W4NumberP1Y")
W4NumberP2OnCommand=zoomy,0.8;diffuse,PlayerColor(PLAYER_2);diffusetopedge,BoostColor(PlayerColor(PLAYER_2),1.5);strokecolor,ColorDarkTone( PlayerColor(PLAYER_2) );shadowlength,1
W4NumberP2OffCommand=
W4LabelX=SCREEN_CENTER_X
W4LabelY=SCREEN_TOP+140
W4LabelOnCommand=visible,false
W4LabelOffCommand=
#
W5NumberP1X=SCREEN_CENTER_X-160+20
W5NumberP1Y=THEME:GetMetric("ScreenEvaluation","W1NumberP1Y")+120
W5NumberP1OnCommand=zoomy,0.8;diffuse,PlayerColor(PLAYER_1);diffusetopedge,BoostColor(PlayerColor(PLAYER_1),1.5);strokecolor,ColorDarkTone( PlayerColor(PLAYER_1) );shadowlength,1
W5NumberP1OffCommand=
W5NumberP2X=SCREEN_CENTER_X+160-20
W5NumberP2Y=THEME:GetMetric("ScreenEvaluation","W5NumberP1Y")
W5NumberP2OnCommand=zoomy,0.8;diffuse,PlayerColor(PLAYER_2);diffusetopedge,BoostColor(PlayerColor(PLAYER_2),1.5);strokecolor,ColorDarkTone( PlayerColor(PLAYER_2) );shadowlength,1
W5NumberP2OffCommand=
W5LabelX=SCREEN_CENTER_X
W5LabelY=SCREEN_TOP+160
W5LabelOnCommand=visible,false
W5LabelOffCommand=
#
MissNumberP1X=SCREEN_CENTER_X-160+20
MissNumberP1Y=THEME:GetMetric("ScreenEvaluation","W1NumberP1Y")+150
MissNumberP1OnCommand=zoomy,0.8;diffuse,PlayerColor(PLAYER_1);diffusetopedge,BoostColor(PlayerColor(PLAYER_1),1.5);strokecolor,ColorDarkTone( PlayerColor(PLAYER_1) );shadowlength,1
MissNumberP1OffCommand=
MissNumberP2X=SCREEN_CENTER_X+160-20
MissNumberP2Y=THEME:GetMetric("ScreenEvaluation","MissNumberP1Y")
MissNumberP2OnCommand=zoomy,0.8;diffuse,PlayerColor(PLAYER_2);diffusetopedge,BoostColor(PlayerColor(PLAYER_2),1.5);strokecolor,ColorDarkTone( PlayerColor(PLAYER_2) );shadowlength,1
MissNumberP2OffCommand=
MissLabelX=SCREEN_CENTER_X
MissLabelY=SCREEN_TOP+180
MissLabelOnCommand=visible,false
MissLabelOffCommand=
#
HeldNumberP1X=SCREEN_CENTER_X-160+20
HeldNumberP1Y=THEME:GetMetric("ScreenEvaluation","W1NumberP1Y")+180
HeldNumberP1OnCommand=zoomy,0.8;diffuse,PlayerColor(PLAYER_1);diffusetopedge,BoostColor(PlayerColor(PLAYER_1),1.5);strokecolor,ColorDarkTone( PlayerColor(PLAYER_1) );shadowlength,1
HeldNumberP1OffCommand=
HeldNumberP2X=SCREEN_CENTER_X+160-20
HeldNumberP2Y=THEME:GetMetric("ScreenEvaluation","HeldNumberP1Y")
HeldNumberP2OnCommand=zoomy,0.8;diffuse,PlayerColor(PLAYER_2);diffusetopedge,BoostColor(PlayerColor(PLAYER_2),1.5);strokecolor,ColorDarkTone( PlayerColor(PLAYER_2) );shadowlength,1
HeldNumberP2OffCommand=
HeldLabelX=SCREEN_CENTER_X
HeldLabelY=SCREEN_TOP+200
HeldLabelOnCommand=visible,false
HeldLabelOffCommand=
#
MaxComboNumberP1X=SCREEN_CENTER_X-160+20
MaxComboNumberP1Y=THEME:GetMetric("ScreenEvaluation","W1NumberP1Y")+220
MaxComboNumberP1OnCommand=zoomy,0.8;diffuse,PlayerColor(PLAYER_1);diffusetopedge,BoostColor(PlayerColor(PLAYER_1),1.5);strokecolor,ColorDarkTone( PlayerColor(PLAYER_1) );shadowlength,1
MaxComboNumberP1OffCommand=
MaxComboNumberP2X=SCREEN_CENTER_X+160-20
MaxComboNumberP2Y=THEME:GetMetric("ScreenEvaluation","MaxComboNumberP1Y")
MaxComboNumberP2OnCommand=zoomy,0.8;diffuse,PlayerColor(PLAYER_2);diffusetopedge,BoostColor(PlayerColor(PLAYER_2),1.5);strokecolor,ColorDarkTone( PlayerColor(PLAYER_2) );shadowlength,1
MaxComboNumberP2OffCommand=
MaxComboLabelX=SCREEN_CENTER_X
MaxComboLabelY=SCREEN_TOP+230
MaxComboLabelOnCommand=visible,false
MaxComboLabelOffCommand=
#
ScoreLabelX=SCREEN_CENTER_X
ScoreLabelY=SCREEN_TOP+310
ScoreLabelOnCommand=visible,false
ScoreLabelOffCommand=
#
ScoreNumberP1X=SCREEN_LEFT+10
ScoreNumberP1Y=SCREEN_TOP+402
ScoreNumberP1OnCommand=diffuse,PlayerColor(PLAYER_1);horizalign,left;diffusetopedge,BoostColor(PlayerColor(PLAYER_1),1.5);strokecolor,ColorDarkTone( PlayerColor(PLAYER_1) );shadowlength,1;zoom,0.8
ScoreNumberP1OffCommand=
ScoreNumberP2X=SCREEN_RIGHT-10
ScoreNumberP2Y=SCREEN_TOP+402
ScoreNumberP2OnCommand=diffuse,PlayerColor(PLAYER_2);horizalign,right;diffusetopedge,BoostColor(PlayerColor(PLAYER_2),1.5);strokecolor,ColorDarkTone( PlayerColor(PLAYER_2) );shadowlength,1;zoom,0.8
ScoreNumberP2OffCommand=
#
PercentFrameP1X=SCREEN_CENTER_X-160
PercentFrameP1Y=SCREEN_TOP+320
PercentFrameP1OnCommand=visible,false
PercentFrameP1OffCommand=
#
PercentFrameP2X=SCREEN_CENTER_X+160
PercentFrameP2Y=SCREEN_TOP+320
PercentFrameP2OnCommand=visible,false
PercentFrameP2OffCommand=
#
PercentP1X=SCREEN_CENTER_X-160
PercentP1Y=SCREEN_TOP+320
PercentP1OnCommand=visible,false
PercentP1OffCommand=
#
PercentP2X=SCREEN_CENTER_X+160
PercentP2Y=SCREEN_TOP+320
PercentP2OnCommand=visible,false
PercentP2OffCommand=
#
LargeBannerX=SCREEN_CENTER_X
LargeBannerY=SCREEN_TOP+100
LargeBannerOnCommand=visible,false
LargeBannerOffCommand=
LargeBannerFrameX=SCREEN_CENTER_X;
LargeBannerFrameY=SCREEN_TOP+100
LargeBannerFrameOnCommand=visible,false
LargeBannerFrameOffCommand=
#
GradeFrameP1X=SCREEN_CENTER_X-220
GradeFrameP1Y=SCREEN_TOP+80
GradeFrameP1OnCommand=visible,false
GradeFrameP1OffCommand=
GradeFrameP2X=SCREEN_CENTER_X+220
GradeFrameP2Y=SCREEN_TOP+80
GradeFrameP2OnCommand=visible,false
GradeFrameP2OffCommand=
#
GradeP1X=0
GradeP1Y=0
GradeP1OnCommand=%function(self) \
				if SCREEN_HEIGHT/SCREEN_WIDTH<0.61 then \
					self:x(120); \
					self:zoom(1.0); \
					self:y(295); \
				elseif SCREEN_HEIGHT/SCREEN_WIDTH<0.65 then \
					self:x(90); \
					self:zoom(0.86); \
					self:y(304); \
				else \
					self:x(60); \
					self:zoom(0.72); \
					self:y(313); \
				end; \
			end;
GradeP1OffCommand=
GradeP2X=0
GradeP2Y=0
GradeP2OnCommand=%function(self) \
				if SCREEN_HEIGHT/SCREEN_WIDTH<0.61 then \
					self:x(SCREEN_RIGHT-120); \
					self:zoom(1.0); \
					self:y(295); \
				elseif SCREEN_HEIGHT/SCREEN_WIDTH<0.65 then \
					self:x(SCREEN_RIGHT-90); \
					self:zoom(0.86); \
					self:y(304); \
				else \
					self:x(SCREEN_RIGHT-60); \
					self:zoom(0.72); \
					self:y(313); \
				end; \
			end;
GradeP2OffCommand=
#
PlayerOptionsP1X=SCREEN_LEFT+10
PlayerOptionsP1Y=SCREEN_BOTTOM-48
PlayerOptionsP1OnCommand=horizalign,left;zoom,0.5;shadowlength,1
PlayerOptionsP1OffCommand=
##
PlayerOptionsP2X=SCREEN_RIGHT-10
PlayerOptionsP2Y=SCREEN_BOTTOM-48
PlayerOptionsP2OnCommand=horizalign,right;zoom,0.5;shadowlength,1
PlayerOptionsP2OffCommand=
#
SongOptionsX=SCREEN_CENTER_X
SongOptionsY=SCREEN_CENTER_Y+95
SongOptionsOnCommand=zoom,0.5;shadowlength,1;
SongOptionsOffCommand=
#
DisqualifiedP1X=SCREEN_CENTER_X-220
DisqualifiedP1Y=SCREEN_TOP+140
DisqualifiedP1OnCommand=
DisqualifiedP1OffCommand=
DisqualifiedP2X=SCREEN_CENTER_X+220
DisqualifiedP2Y=SCREEN_TOP+140
DisqualifiedP2OnCommand=
DisqualifiedP2OffCommand=
#
GraphDisplayP1X=SCREEN_LEFT+65
GraphDisplayP1Y=SCREEN_TOP+170
GraphDisplayP1OnCommand=visible,false
GraphDisplayP1OffCommand=
GraphDisplayP2X=SCREEN_RIGHT-65
GraphDisplayP2Y=SCREEN_TOP+170
GraphDisplayP2OnCommand=visible,false
GraphDisplayP2OffCommand=
#
ComboGraphP1X=SCREEN_LEFT+65
ComboGraphP1Y=SCREEN_TOP+170+32-7
ComboGraphP1OnCommand=visible,false
ComboGraphP1OffCommand=
ComboGraphP2X=SCREEN_RIGHT-65
ComboGraphP2Y=SCREEN_TOP+170+32-7
ComboGraphP2OnCommand=visible,false
ComboGraphP2OffCommand=
#
MachineRecordP1X=SCREEN_LEFT+10
#MachineRecordP1Y=SCREEN_BOTTOM-156

MachineRecordP1Y=SCREEN_TOP+388
MachineRecordP1OnCommand=visible,false;horizalign,left;zoom,0.5;
MachineRecordP1OffCommand=
#
MachineRecordP2X=SCREEN_RIGHT-10
#MachineRecordP2Y=SCREEN_BOTTOM-156
MachineRecordP2Y=SCREEN_TOP+388
MachineRecordP2OnCommand=visible,false;horizalign,right;zoom,0.5;
MachineRecordP2OffCommand=
#
PersonalRecordP1X=SCREEN_LEFT+10
PersonalRecordP1Y=SCREEN_TOP+388
PersonalRecordP1OnCommand=visible,false;horizalign,left;zoom,0.5;
PersonalRecordP1OffCommand=
#
PersonalRecordP2X=SCREEN_RIGHT-10
PersonalRecordP2Y=SCREEN_TOP+388
PersonalRecordP2OnCommand=visible,false;horizalign,right;zoom,0.5;
PersonalRecordP2OffCommand=
#
StageAwardP1X=SCREEN_CENTER_X-220
StageAwardP1Y=SCREEN_TOP+130
StageAwardP1OnCommand=draworder,105;zoom,0.75;diffuse,Color("Yellow");diffusebottomedge,Color("Orange");strokecolor,ColorDarkTone( Color("Orange") );glowshift;textglowmode,'TextGlowMode_Inner'
StageAwardP1OffCommand=
#
StageAwardP2X=SCREEN_CENTER_X+220
StageAwardP2Y=SCREEN_TOP+130
StageAwardP2OnCommand=draworder,105;zoom,0.75;diffuse,Color("Yellow");diffusebottomedge,Color("Orange");strokecolor,ColorDarkTone( Color("Orange") );glowshift;textglowmode,'TextGlowMode_Inner'
StageAwardP2OffCommand=
#
PeakComboAwardP1X=SCREEN_CENTER_X-160
PeakComboAwardP1Y=SCREEN_TOP+300+10
PeakComboAwardP1OnCommand=draworder,105;zoom,0.5;diffusebottomedge,Color("Blue");strokecolor,ColorDarkTone( Color("Blue") );glowshift;textglowmode,'TextGlowMode_Inner'
PeakComboAwardP1OffCommand=
#
PeakComboAwardP2X=SCREEN_CENTER_X+160
PeakComboAwardP2Y=SCREEN_TOP+300+10
PeakComboAwardP2OnCommand=draworder,105;zoom,0.5;diffusebottomedge,Color("Blue");strokecolor,ColorDarkTone( Color("Blue") );glowshift;textglowmode,'TextGlowMode_Inner'
PeakComboAwardP2OffCommand=
#
ShowStepsDisplayP1=GAMESTATE:IsHumanPlayer(PLAYER_1)
StepsDisplayP1X=SCREEN_CENTER_X-160
StepsDisplayP1Y=SCREEN_BOTTOM-50
StepsDisplayP1OnCommand=visible,THEME:GetMetric(Var "LoadingScreen","ShowStepsDisplayP1");addy,SCREEN_CENTER_Y;decelerate,0.35;addy,-SCREEN_CENTER_Y
StepsDisplayP1OffCommand=bouncebegin,0.15;zoomx,0;
#
ShowStepsDisplayP2=GAMESTATE:IsHumanPlayer(PLAYER_2)
StepsDisplayP2X=SCREEN_CENTER_X+160
StepsDisplayP2Y=SCREEN_BOTTOM-50
StepsDisplayP2OnCommand=visible,THEME:GetMetric(Var "LoadingScreen","ShowStepsDisplayP2");addy,SCREEN_CENTER_Y;decelerate,0.35;addy,-SCREEN_CENTER_Y
StepsDisplayP2OffCommand=bouncebegin,0.15;zoomx,0;
#
PercentScoreP1X=SCREEN_CENTER_X-82
PercentScoreP1Y=SCREEN_BOTTOM-50
PercentScoreP1OnCommand=draworder,100;addy,SCREEN_CENTER_Y;decelerate,0.35;addy,-SCREEN_CENTER_Y;
PercentScoreP1OffCommand=bouncebegin,0.15;zoomx,0;
#
PercentScoreP2X=SCREEN_CENTER_X+238
PercentScoreP2Y=SCREEN_BOTTOM-50
PercentScoreP2OnCommand=draworder,100;addy,SCREEN_CENTER_Y;decelerate,0.35;addy,-SCREEN_CENTER_Y;
PercentScoreP2OffCommand=bouncebegin,0.15;zoomx,0;
#
ShowGameType=true
GameTypeX=SCREEN_CENTER_X
GameTypeY=SCREEN_BOTTOM-48
GameTypeOnCommand=addy,SCREEN_CENTER_Y;decelerate,0.35;addy,-SCREEN_CENTER_Y;zoom,0.675;shadowlength,1;shadowcolor,color("#22222266")
GameTypeOffCommand=bouncebegin,0.15;addy,SCREEN_CENTER_Y;
#
ShowTimingDifficulty=true
TimingDifficultyX=SCREEN_CENTER_X
TimingDifficultyY=SCREEN_CENTER_Y+55
TimingDifficultyOnCommand=zoom,0.675;shadowlength,1;strokecolor,Color("Outline");draworder,105
TimingDifficultyOffCommand=
#
ShowLifeDifficulty=true
LifeDifficultyX=SCREEN_CENTER_X
LifeDifficultyY=SCREEN_CENTER_Y+75
LifeDifficultyOnCommand=zoom,0.675;shadowlength,1;strokecolor,Color("Outline");draworder,105
LifeDifficultyOffCommand=
#
ShowSongInformation=true
SongInformationX=SCREEN_CENTER_X
SongInformationY=SCREEN_CENTER_Y-60
SongInformationOnCommand=playcommand,"Set";draworder,105
SongInformationOffCommand=

[ScreenEvaluationNormal]
Fallback="ScreenEvaluation"
#
NextScreen="ScreenProfileSave"
PrevScreen="ScreenProfileSave"
#
PlayMusic=false
#
ShowBannerFrame=false
#
ShowStageDisplay=true
StageDisplayX=SCREEN_CENTER_X+160
StageDisplayY=SCREEN_TOP+24+3
StageDisplayOnCommand=skewx,-0.125;draworder,105;fov,90;zoom,0.675;zoomy,0;sleep,0.35;smooth,0.35;zoomy,0.675
StageDisplayOffCommand=linear,0.25;zoomy,0;

[ScreenEvaluationSummary]
CodeNames=EvaluationSummaryCode()
CodePrevSong="+Left"
CodeNextSong="+Right"
CodePrevSong2="+MenuLeft"
CodeNextSong2="+MenuRight"
CodePrevSong3="+DownLeft"
CodeNextSong3="+DownRight"
CodePrevSong4="+UpLeft"
CodeNextSong4="+UpRight"
Fallback="ScreenEvaluation"
#
NextScreen=Branch_Theme.AfterSummary()
#
PlayMusic=false
#
Summary=true
#
ShowStageDisplay=false
ShowGradeArea=false
ShowScoreArea=false
#
SmallBanner1X=SCREEN_CENTER_X-72
SmallBanner1Y=SCREEN_TOP+100-24
SmallBanner1OnCommand=visible,false
SmallBanner1OffCommand=

SmallBanner2X=SCREEN_CENTER_X-48
SmallBanner2Y=SCREEN_TOP+100-16
SmallBanner2OnCommand=visible,false
SmallBanner2OffCommand=

SmallBanner3X=SCREEN_CENTER_X-24
SmallBanner3Y=SCREEN_TOP+100-8
SmallBanner3OnCommand=visible,false
SmallBanner3OffCommand=

SmallBanner4X=SCREEN_CENTER_X+24
SmallBanner4Y=SCREEN_TOP+100+8
SmallBanner4OnCommand=visible,false
SmallBanner4OffCommand=

SmallBanner5X=SCREEN_CENTER_X+48
SmallBanner5Y=SCREEN_TOP+100+16
SmallBanner5OnCommand=visible,false
SmallBanner5OfCommand=

SmallBanner6X=SCREEN_CENTER_X+72
SmallBanner6Y=SCREEN_TOP+100+24
SmallBanner6OnCommand=visible,false
SmallBanner6OffCommand=

W1NumberP1OnCommand=visible,false
W1NumberP2OnCommand=visible,false
#
W2NumberP1OnCommand=visible,false
W2NumberP2OnCommand=visible,false
#
W3NumberP1OnCommand=visible,false
W3NumberP2OnCommand=visible,false
#
W4NumberP1OnCommand=visible,false
W4NumberP2OnCommand=visible,false
#
W5NumberP1OnCommand=visible,false
W5NumberP2OnCommand=visible,false
#
MissNumberP1OnCommand=visible,false
MissNumberP2OnCommand=visible,false
#
HeldNumberP1OnCommand=visible,false
HeldNumberP2OnCommand=visible,false
#
MaxComboNumberP1OnCommand=visible,false
MaxComboNumberP2OnCommand=visible,false

[ScreenNameEntry]

[ScreenProfileSave]
Class="ScreenProfileSave"
Fallback="ScreenWithMenuElementsBlank"
NextScreen=Branch_Theme.AfterProfileSave();
PrevScreen=Branch.TitleMenu()
TimerSeconds=-1

[ScreenProfileSaveSummary]

[ScreenGameOver]

[ScreenPrompt]

[ScreenOptionsEdit]

[EditMenu]
Arrows1X=SCREEN_CENTER_X-160
Arrows2X=SCREEN_CENTER_X+270
SongTextBannerX=SCREEN_CENTER_X-25
SongTextBannerY=SCREEN_CENTER_Y-90
StepsDisplayX=SCREEN_CENTER_X+60
Value4X=0
Value4Y=0
Value4OnCommand=visible,false
Value4OffCommand=

[TextBannerEditMode]
TitleOnCommand=
SubtitleOnCommand=
ArtistOnCommand=visible,true
ArtistPrependString="/"
AfterSetCommand=%TextBannerAfterSet

[ScreenEditMenu]

[ScreenEdit]

[ScreenPracticeMenu]

[PracticeMenu]

[ScreenPractice]

[ScreenEditOptions]
Line1="lua,SpeedMods()"

[StepsDisplayEdit]
Fallback="StepsDisplayGameplay"

[ScreenMiniMenuEditHelp]

[OptionRowMiniMenuEditHelp]

[ScreenMiniMenuMainMenu]

[ScreenMiniMenuAreaMenu]

[ScreenMiniMenuStepsInformation]

[ScreenMiniMenuSongInformation]

[ScreenMiniMenuTimingDataInformation]

[ScreenMiniMenuBackgroundChange]

[ScreenMiniMenuPreferences]

[ScreenMiniMenuInsertTapAttack]

[ScreenMiniMenuInsertCourseAttack]

[ScreenMiniMenuCourseDisplay]

[ScreenMiniMenuCourseOptions]

[ScreenOptionsExportPackage]

[ScreenOptionsManage]

[OptionRowManage]

[OptionRowCourseOverview]

[ScreenOptionsManageCourses]

[OptionRowCourse]

[ScreenOptionsEditCourse]

[OptionRowEditCourse]

[ScreenOptionsCourseOverview]

[ScreenGameplaySyncMachine]
SongMeterDisplayP1OnCommand=visible,false
SongMeterDisplayP2OnCommand=visible,false
StepsDescriptionP1OnCommand=visible,false
StepsDescriptionP2OnCommand=visible,false
StepsDisplayP1OnCommand=visible,false
StepsDisplayP2OnCommand=visible,false
PlayerOptionsP1OnCommand=visible,false
PlayerOptionsP2OnCommand=visible,false

[PlayerSyncMachine]

[ScreenHowToInstallSongs]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
ShowHeader=false

ShowScroller=true
PerChoiceScrollElement=false
#
ShowIcon=true
UseIconMetrics=false
PerChoiceIconElement=false
#
ScrollerX=SCREEN_LEFT+32
ScrollerY=SCREEN_CENTER_Y
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y(24*(itemIndex-(numItems-1)/2)); end
ScrollerNumItemsToDraw=20
ScrollerOffCommand=bouncebegin,0.25;addx,-SCREEN_CENTER_X

ChoiceNames="WhereToFind,HowToInstall,AdditionalFolders,ReloadSongs,Exit"
ChoiceWhereToFind="urlnoexit,http://code.google.com/p/sm-ssc/wiki/FindingContent;text,"..Screen.String("Finding Songs")
ChoiceHowToInstall="urlnoexit,http://code.google.com/p/sm-ssc/wiki/InstallingContent;text,"..Screen.String("Installing Songs")
ChoiceAdditionalFolders="text,"..Screen.String("Importing Songs")
ChoiceReloadSongs="screen,ScreenReloadSongs;text,"..Screen.String("Reload Songs")
ChoiceExit="screen,"..Branch.TitleMenu()..";text,"..Screen.String("Exit")
DefaultChoice="WhereToFind"

OptionOrderUp="5:4,4:3,3:2,2:1,1:5"
OptionOrderDown="1:2,2:3,3:4,4:5,5:1"

[ScreenSMOnlineLogin]

[ScreenNetSelectBase]
Class="ScreenNetSelectBase"
Fallback="ScreenWithMenuElements"

#ChatInputBoxX=(GAMESTATE:IsHumanPlayer(PLAYER_1)) and SCREEN_CENTER_X*1.5-50 or SCREEN_CENTER_X*0.5+50
ChatInputBoxX=(GAMESTATE:IsHumanPlayer(PLAYER_1)) and 480+(SCREEN_WIDTH-640)/2 or 160+(SCREEN_WIDTH-640)/2
ChatInputBoxY=THEME:GetMetric("ScreenSelectMusic","MusicWheelY")+220
ChatInputBoxOnCommand=vertalign,top;bounceend,0.5;zoomy,1;
ChatInputBoxOffCommand=bouncebegin,0.5;zoomy,0
ChatInputBoxWidth=220
ChatInputBoxHeight=36
#--#
#ChatInputX=(GAMESTATE:IsHumanPlayer(PLAYER_1)) and SCREEN_CENTER_X*1.5-155 or SCREEN_CENTER_X*0.5+155-THEME:GetMetric("ScreenNetSelectMusic","ChatInputBoxWidth")
ChatInputX=(GAMESTATE:IsHumanPlayer(PLAYER_1)) and 375+(SCREEN_WIDTH-640)/2 or 272-THEME:GetMetric("ScreenNetSelectMusic","ChatInputBoxWidth")+(SCREEN_WIDTH-640)/2
ChatInputY=THEME:GetMetric("ScreenNetSelectMusic","ChatInputBoxY")-15
ChatTextInputWidth=THEME:GetMetric("ScreenNetSelectMusic","ChatInputBoxWidth")*2-5
ChatInputOnCommand=halign,0;valign,0;zoom,0.5;diffusealpha,0;linear,0.55;diffusealpha,1
ChatInputOffCommand=diffusealpha,1;linear,0.5;diffusealpha,0
#====#
#ChatOutputBoxX=(GAMESTATE:IsHumanPlayer(PLAYER_1)) and SCREEN_CENTER_X*1.5-35 or SCREEN_CENTER_X*0.5+35
ChatOutputBoxX=(GAMESTATE:IsHumanPlayer(PLAYER_1)) and 495+(SCREEN_WIDTH-640)/2 or 145+(SCREEN_WIDTH-640)/2
ChatOutputBoxY=THEME:GetMetric("ScreenSelectMusic","MusicWheelY")+135
ChatOutputBoxOnCommand=bounceend,0.5;zoomy,1;
ChatOutputBoxOffCommand=bouncebegin,0.5;zoomy,0
ChatOutputBoxWidth=250
ChatOutputBoxHeight=130
#--#
#ChatOutputX=(GAMESTATE:IsHumanPlayer(PLAYER_1)) and SCREEN_CENTER_X*1.5-155 or SCREEN_CENTER_X*0.5+155-THEME:GetMetric("ScreenNetSelectMusic","ChatOutputBoxWidth")
ChatOutputX=(GAMESTATE:IsHumanPlayer(PLAYER_1)) and 375+(SCREEN_WIDTH-640)/2 or 272-THEME:GetMetric("ScreenNetSelectMusic","ChatOutputBoxWidth")+(SCREEN_WIDTH-640)/2
ChatOutputY=THEME:GetMetric("ScreenNetSelectMusic","ChatOutputBoxY")+60
ChatTextOutputWidth=THEME:GetMetric("ScreenNetSelectMusic","ChatOutputBoxWidth")*2
ChatOutputLines=12
ChatOutputOnCommand=halign,0;valign,1;zoom,0.5;diffusealpha,0;linear,0.55;diffusealpha,1
ChatOutputOffCommand=diffusealpha,1;linear,0.5;diffusealpha,0

UsersX=(GAMESTATE:IsHumanPlayer(PLAYER_1)) and SCREEN_CENTER_X-265 or SCREEN_CENTER_X+15
UsersY=SCREEN_CENTER_Y+172
UserSpacingX=80
UserLine2Y=30
UsersOnCommand=draworder,2;zoom,1
UsersOffCommand=linear,0.5;zoom,0
Users0Command=draworder,2;diffuse,color("1.0,0.4,0.4,1.0")
Users1Command=draworder,2;diffuse,color("1.0,1.0,1.0,1.0")
Users2Command=draworder,2;diffuse,color("0.5,0.5,1.0,1.0")
Users3Command=draworder,2;diffuse,color("0.5,1.0,0.5,1.0")
Users4Command=draworder,2;diffuse,color("1.0,0.5,0.5,1.0")

[ScreenNetSelectMusic]
ShowBPMDisplay=true
BPMDisplayX=SCREEN_CENTER_X-160-80+2
BPMDisplayY=
BPMDisplayBeginCommand=maxwidth,128;horizalign,left;
BPMDisplayOnCommand=zoomx,0;strokecolor,Color("Outline");playcommand,"NetSet";decelerate,0.2;zoomx,1;
BPMDisplayOffCommand=bouncebegin,0.15;zoomx,0;
#
ShowBPMLabel=true
BPMLabelX=SCREEN_CENTER_X-160-80
BPMLabelY=
BPMLabelOffCommand=bouncebegin,0.15;zoomx,0;
#
ShowSongTime=true
SongTimeX=SCREEN_CENTER_X-137
SongTimeY=
SongTimeOffCommand=bouncebegin,0.15;zoom,0;diffusealpha,0;
SongTimeResetCommand=diffuse,Color("White");
SongTimeAutogenCommand=diffuse,Color("Green");
SongTimeLongCommand=diffuse,Color("Yellow");diffusebottomedge,Color("Orange");
SongTimeMarathonCommand=diffuse,Color("Orange");diffusebottomedge,Color("Red");
#
ShowDifficultyDisplay=true
DifficultyDisplayX=SCREEN_CENTER_X-240+200
DifficultyDisplayY=SCREEN_CENTER_Y+185
DifficultyDisplayOnCommand=draworder,105;fov,90;zoom,1;zoomy,0;sleep,0.35;smooth,0.35;zoomy,1
DifficultyDisplayOffCommand=linear,0.25;zoomy,0;
#
MusicWheelX=SCREEN_CENTER_X
MusicWheelY=SCREEN_CENTER_Y-40
MusicWheelOnCommand=draworder,-5;fov,90;vanishpoint,SCREEN_CENTER_X+160,SCREEN_CENTER_Y;zoomx,0;decelerate,0.35;zoomx,1;
MusicWheelOffCommand=bouncebegin,0.15;zoomx,0;
#
ShowNewSong=not GAMESTATE:IsCourseMode()
NewSongX=SCREEN_CENTER_X+65
NewSongY=THEME:GetMetric("ScreenSelectMusic","MusicWheelY")-129
NewSongOnCommand=finishtweening;diffuse,Color("Orange");diffusetopedge,Color("Yellow");strokecolor,Color("Black");zoom,0.675;draworder,106;playcommand,"Set"
NewSongOffCommand=bouncebegin,0.135;zoom,0;diffusealpha,0
NewSongShowCommand=finishtweening;diffusealpha,1;glowshift;effectclock,'bgm';effectperiod,4;textglowmode,'TextGlowMode_Inner';
NewSongHideCommand=finishtweening;;diffusealpha,0;stopeffect;
#
ShowStageDisplay=true
StageDisplayX=SCREEN_LEFT+200+88
StageDisplayY=SCREEN_TOP+24+3
StageDisplayOnCommand=skewx,-0.125;draworder,105;fov,90;zoom,0.675;zoomy,0;sleep,0.35;smooth,0.35;zoomy,0.675
StageDisplayOffCommand=linear,0.25;zoomy,0;
#
BannerX=SCREEN_CENTER_X-196
BannerY=SCREEN_CENTER_Y-20-160+60
BannerOnCommand=draworder,-49;zoom,0
BannerOffCommand=bouncebegin,0.15;zoomx,0;
#
ShowBannerFrame=true
BannerFrameX=SCREEN_CENTER_X-200
BannerFrameY=
BannerFrameOnCommand=%function(self,param) \
	if SCREEN_HEIGHT/SCREEN_WIDTH>=0.65 then \
		self:y(THEME:GetMetric("ScreenNetSelectMusic","MusicWheelY")-100+30); \
	else \
		self:y(THEME:GetMetric("ScreenNetSelectMusic","MusicWheelY")-100); \
	end; \
	(cmd(draworder,-50;horizalign,right;addx,160;cropright,0.8;decelerate,0.35;cropright,0;addx,-160;))(self); \
end;
BannerFrameOffCommand=bouncebegin,0.15;zoomx,0;
#
ShowGrooveRadarP1=not GAMESTATE:IsCourseMode()
GrooveRadarP1X=SCREEN_LEFT+100
GrooveRadarP1Y=SCREEN_BOTTOM-160
GrooveRadarP1OnCommand=zoom,0.75
GrooveRadarP1OffCommand=
ShowGrooveRadarP2=not GAMESTATE:IsCourseMode()
GrooveRadarP2X=SCREEN_RIGHT-100
GrooveRadarP2Y=SCREEN_BOTTOM-160
GrooveRadarP2OnCommand=zoom,0.75
GrooveRadarP2OffCommand=
#
ShowPaneDisplayFrameP1=false
PaneDisplayFrameP1X=SCREEN_CENTER_X-160
PaneDisplayFrameP1Y=SCREEN_BOTTOM-115
PaneDisplayFrameP1OnCommand=player,PLAYER_1;diffuse,Color("Orange");zoomy,0;decelerate,0.25;zoomy,1
PaneDisplayFrameP1OffCommand=bouncebegin,0.15;zoomx,0;
PaneDisplayFrameP1PlayerJoinedMessageCommand=%function(self,params) if params.Player == PLAYER_1 then self:playcommand("On") end end
#
ShowPaneDisplayTextP1=true
PaneDisplayTextP1X=SCREEN_CENTER_X-140
PaneDisplayTextP1Y=SCREEN_BOTTOM-60
PaneDisplayTextP1OnCommand=player,PLAYER_1;diffusealpha,0;zoomx,2;zoomy,0;decelerate,0.25;zoomy,1;zoomx,1;diffusealpha,1;
PaneDisplayTextP1OffCommand=bouncebegin,0.15;zoomx,0;
PaneDisplayTextP1PlayerJoinedMessageCommand=%function(self,params) if params.Player == PLAYER_1 then self:playcommand("On") end end
#
ShowPaneDisplayFrameP2=false
PaneDisplayFrameP2X=SCREEN_CENTER_X+160
PaneDisplayFrameP2Y=SCREEN_BOTTOM-115
PaneDisplayFrameP2OnCommand=player,PLAYER_2;diffuse,Color("Orange");zoomy,0;decelerate,0.25;zoomy,1
PaneDisplayFrameP2OffCommand=bouncebegin,0.15;zoomx,0;
PaneDisplayFrameP2PlayerJoinedMessageCommand=%function(self,params) if params.Player == PLAYER_2 then self:playcommand("On") end end
#
ShowPaneDisplayTextP2=true
PaneDisplayTextP2X=SCREEN_CENTER_X+78
PaneDisplayTextP2Y=SCREEN_BOTTOM-60
PaneDisplayTextP2OnCommand=player,PLAYER_2;diffusealpha,0;zoomx,2;zoomy,0;decelerate,0.25;zoomy,1;zoomx,1;diffusealpha,1;
PaneDisplayTextP2OffCommand=bouncebegin,0.15;zoomx,0;
PaneDisplayTextP2PlayerJoinedMessageCommand=%function(self,params) if params.Player == PLAYER_2 then self:playcommand("On") end end
#
optionsOnCommand=visible,false
ShowAlternateHelpDisplay=false

UsersX=10
UsersY=48
UsersDX=40
UsersAY=16
UsersOnCommand=horizalign,left;draworder,2;zoom,0.75;shadowlength,1

ShowDifficultyList=false
ShowCourseContentsList=false
ShowSegmentDisplay=false;
ShowStepsDisplayP1=false;
ShowStepsDisplayP2=false;

ShowCustomCDTitle=true
CustomCDTitleX=THEME:GetMetric("ScreenSelectMusic","CustomCDTitleX")
CustomCDTitleY=THEME:GetMetric("ScreenSelectMusic","CustomCDTitleY")

[StepsDisplayNet]
FrameOnCommand=visible,false
ShowTicks=false
ShowMeter=false
ShowDescription=false
ShowCredit=false
ShowAutogen=false
ShowStepsType=false

[ScreenNetRoom]
RoomWheelX=SCREEN_CENTER_X
RoomWheelY=SCREEN_CENTER_Y-40
RoomWheelOnCommand=draworder,-5;fov,90;vanishpoint,SCREEN_CENTER_X+160,SCREEN_CENTER_Y;zoomx,0;decelerate,0.35;zoomx,1;
RoomWheelOffCommand=bouncebegin,0.15;zoomx,0;

[RoomWheel]
Fallback="MusicWheel"
RoomWheelItemStartOnCommand=
RoomWheelItemFinishOnCommand=
CreateRoomColor=color("0.0,0.9,0.25,1.0")
ScrollBarOnCommand=rotationz,-90;y,62

[RoomWheelItem]
TextX=88
TextY=65
TextOnCommand=horizalign,right;zoom,0.8;maxwidth,225;strokecolor,color("#000000FF");

DescriptionX=88
DescriptionY=80
DescriptionOnCommand=horizalign,right;zoom,0.4;maxwidth,450;strokecolor,color("#000000FF")

[RoomInfoDisplay]
RoomInfoDisplayOnCommand=zoom,1;diffuse,color("1.0,1.0,1.0,1");y,SCREEN_CENTER_Y;x,(GAMESTATE:IsHumanPlayer(PLAYER_1)) and SCREEN_CENTER_X-170 or SCREEN_CENTER_X+240;
RoomInfoDisplayOffCommand=zoom,0;
DeployDelay=0.5
RoomTitleOnCommand=x,-130;y,-150;zoom,0.6;maxwidth,310;
RoomDescOnCommand=x,-130;y,-138;zoom,0.6;maxwidth,310;
LastRoundOnCommand=x,-130;y,-116;zoom,0.6;maxwidth,310;
SongTitleOnCommand=x,-130;y,-103;zoom,0.6;maxwidth,310;
SongSubTitleOnCommand=x,-130;y,-91;zoom,0.6;maxwidth,310;
SongArtistOnCommand=x,-130;y,-78;zoom,0.6;maxwidth,310;
PlayersOnCommand=x,-130;y,22;zoom,0.6
PlayerListElementX=-130
PlayerListElementY=32
PlayerListElementOffsetX=0
PlayerListElementOffsetY=12
PlayerListElementOnCommand=zoom,0.6

[ScreenSMOnlineSelectMusic]

[ModIcon]

[ModIconSelectMusic]
Fallback="ModIcon"
TextOnCommand=visible,false

[ModIconRow]

[ModIconRowSelectMusic]

[GraphDisplay]
BodyWidth=120
BodyHeight=38

[ComboGraph]
BodyWidth=120

[ScreenNetEvaluation]
UserTier02OrBetterCommand=diffuseshift;effectperiod,0.75;effectcolor1,color("1,0.95,0.8,1");effectcolor2,color("0.8,0.95,1,1")

# Arcade

[ScreenLogo]
TimerSeconds=10
ShowLogo=true
LogoX=SCREEN_CENTER_X
LogoY=SCREEN_CENTER_Y-18
LogoOnCommand=bob;effectperiod,4;effectmagnitude,0,5.25,0;zoom,0;bounceend,0.35;zoom,0.75
LogoOffCommand=stopeffect;bouncebegin,0.35;zoom,0

ArcadeOverlay.TextY=SCREEN_BOTTOM-60
#

[ScreenHowToPlay]
TimerSeconds=55
TimerStealth=true
SecondsToShow=55
UseLifeMeterBar=false
LifeMeterBarY=SCREEN_BOTTOM+1000
SongBPM=75
NumW2s=5
NumMisses=2
ShowScoreFrameP1=false
ShowScoreFrameP2=false
ShowStageDisplay=false

[ScreenTitleJoin]
ShowHelp=false
HelpText=Screen.String("HelpTextTitleJoin")
HelpY=SCREEN_CENTER_Y+100
HelpOnCommand=visible,false;zoom,1;strokecolor,color("0.125,0.125,0.125,0.5");queuecommand,"Refresh"
HelpCoinIsertedMessageCommand=playcommand,"Refresh"
HelpCoinModeChangedMessageCommand=playcommand,"Refresh"
HelpRefreshCommand=%function(self) \
	local bCanPlay = GAMESTATE:EnoughCreditsToJoin(); \
	local bReady = GAMESTATE:GetNumSidesJoined() > 0; \
	if bCanPlay or bReady then \
		self:SetTipsColonSeperated(THEME:GetString( Var "LoadingScreen","HelpTextPlay")); \
	else \
		self:SetTipsColonSeperated(THEME:GetString( Var "LoadingScreen","HelpTextWait")); \
	end \
end;
#
LogoX=SCREEN_CENTER_X
LogoY=SCREEN_CENTER_Y-28
LogoOnCommand=bob;effectperiod,4;effectmagnitude,0,5.25,0;zoom,0;bounceend,0.35;zoom,0.75
LogoOffCommand=stopeffect;bouncebegin,0.35;rotationz,360;zoom,0

VersionInfoX=SCREEN_CENTER_X+114
VersionInfoY=SCREEN_CENTER_Y+44
VersionInfoOnCommand=horizalign,right;vertalign,bottom;bob;effectperiod,4;effectmagnitude,0,5.25,0;zoom,0;bounceend,0.35;zoom,0.65;shadowlength,1;shadowcolor,color("0.2,0.2,0.2,0.925");
ScrollerOnCommand=visible,false;
ArcadeOverlay.TextY=SCREEN_BOTTOM-128

[ScreenDemonstration]
Fallback="ScreenGameplay"
Class="ScreenDemonstration"
NextScreen="ScreenInit"
PrevScreen="ScreenInit"

[ScreenJukeboxMenu]
NextScreen="ScreenJukebox"

[ScreenJukebox]

[ScreenCredits]
TimerSeconds=125

[ScreenOptions_waieiSystem]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames="BGAtoLua,CustomScore,HiScoreType,HoldJudg,HoldCheck,Haishin,Stage,CSRival"
LineBGAtoLua="lua,UserBGAtoLua()"
LineCustomScore="lua,UserCustomScore()"
LineHiScoreType="lua,UserHiScoreType()"
LineHoldJudg="lua,UserHoldJudgmentType()"
LineHoldCheck="lua,UserHoldCheckPoints()"
LineHaishin="lua,UserHaishin()"
LineStage="lua,UserStage()"
LineCSRival="lua,UserCSRival()"

[ScreenOptions_waieiDesign]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames="LightEffect,BGScale,DifficultyName,DifficultyColor,JudgementLabel,MeterType,WheelMode,RadarValue,RadarLimit"
LineLifeType="lua,UserLife()"
LineLightEffect="lua,UserLightEffect()"
LineBGScale="lua,UserBGScale()"
LineDifficultyName="lua,UserDifficultyName()"
LineDifficultyColor="lua,UserDifficultyColor()"
LineJudgementLabel="lua,UserJudgementLabel()"
LineMeterType="lua,UserMeterType()"
LineWheelMode="lua,UserWheelMode()"
LineWheelText="lua,UserWheelText()"
LineScoreMode="lua,UserScoreMode()"
LineRadarValue="lua,UserShowRadarValue()"
LineRadarLimit="lua,UserRadarOverLimit()"

[ScreenOptionsCombo]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames=(GetSMVersion()>40) and "gComboUnderField,FlashyCombo,JumpCombo,RollCombo,MinCombo,HideNotes,NGCombo,MineHitMiss" or "gComboUnderField,FlashyCombo,JumpCombo,RollCombo,MinCombo,MineHitMiss"
LinegComboUnderField="lua,DF_ComboUnderField()"
LineFlashyCombo="lua,DF_FlashyCombos()"
LineMinCombo="lua,UserMinCombo()"
LineHideNotes="lua,UserHideNotes()"
LineNGCombo="lua,UserComboBreakOnNG()"
LineMineHitMiss="lua,UserMineHitMiss()"
LineJumpCombo="lua,UserJumpCombo()"
LineRollCombo="lua,UserRollCombo()"

[ScreenWelcomewaiei]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
PrevScreen="ScreenWelcomewaiei"
NextScreen=Branch.AfterInit()
ShowHeader=true
TimerSeconds=-1
ChoiceNames="1"
Choice1="name,choice1"
DefaultChoice=1
CodeNames=SelectProfileKeys()
CodeUp="MenuUp"
CodeUp2="Up"
CodeDown="MenuDown"
CodeDown2="Down"
CodeStart="Start"
CodeBack="Back"
CodeCenter="Center"
CodeDownLeft="DownLeft"
CodeDownRight="DownRight"

[ScreenCustomTitle1]
ShowHeader=false
ShowFooter=false
ShowHelp=false
ShowCreditDisplay=false
Fallback="ScreenWithMenuElements"
NextScreen="ScreenCustom1"
PrevScreen=Branch.TitleMenu()

[ScreenCustomTitle2]
Fallback="ScreenCustomTitle1"

[ScreenCustomTitle3]
Fallback="ScreenCustomTitle1"

[ScreenCustomTitle4]
Fallback="ScreenCustomTitle1"

[ScreenCustomChange]
Fallback="ScreenCustomTitle1"
NextScreen=Branch.TitleMenu()
PrevScreen=Branch.TitleMenu()

[ScreenCustom1]
ShowHeader=false
ShowFooter=false
ShowHelp=false
ShowCreditDisplay=false
Fallback="ScreenWithMenuElements"
NextScreen="ScreenWithMenuElements"
PrevScreen="ScreenWithMenuElements"
PlayMusic=true
StopMusicOnBack=true
TimerSeconds=-1
TimerStealth=true
CodeNames=CustomCode()
CodeLeftM-Down="MenuLeft"
CodeLeft1-Down="Left"
CodeLeft2-Down="DownLeft"
CodeRightM-Down="MenuRight"
CodeRight1-Down="Right"
CodeRight2-Down="DownRight"
CodeUpM-Down="MenuUp"
CodeUp1-Down="Up"
CodeUp2-Down="UpLeft"
CodeDownM-Down="MenuDown"
CodeDown1-Down="Down"
CodeDown2-Down="UpRight"
CodeStart-Down="Start"
CodeCenter-Down="Center"
CodeBack-Down="Back"
CodeEffectUp-Down="EffectUp"
CodeEffectDown-Down="EffectDown"
CodeSelect-Down="Select"
CodeLeftM-Up="~MenuLeft"
CodeLeft1-Up="~Left"
CodeLeft2-Up="~DownLeft"
CodeRightM-Up="~MenuRight"
CodeRight1-Up="~Right"
CodeRight2-Up="~DownRight"
CodeUpM-Up="~MenuUp"
CodeUp1-Up="~Up"
CodeUp2-Up="~UpLeft"
CodeDownM-Up="~MenuDown"
CodeDown1-Up="~Down"
CodeDown2-Up="~UpRight"
CodeStart-Up="~Start"
CodeCenter-Up="~Center"
CodeBack-Up="~Back"
CodeEffectUp-Up="~EffectUp"
CodeEffectDown-Up="~EffectDown"
CodeSelect-Up="~Select"

[ScreenCustom2]
Fallback="ScreenCustom1"

[ScreenCustom3]
Fallback="ScreenCustom1"

[ScreenCustom4]
Fallback="ScreenCustom1"

[ScreenCustom5]
Fallback="ScreenCustom1"

[ScreenCustom6]
Fallback="ScreenCustom1"

[ScreenCustom7]
Fallback="ScreenCustom1"

[ScreenCustom8]
Fallback="ScreenCustom1"
